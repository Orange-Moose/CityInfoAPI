2022-10-07 10:02:35.678 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 10:02:35.849 +03:00 [DBG] Hosting starting
2022-10-07 10:02:36.069 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 10:02:36.145 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 10:02:36.156 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 10:02:36.157 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 10:02:36.161 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 10:02:36.162 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 10:02:36.163 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 10:02:36.167 +03:00 [INF] Hosting environment: Development
2022-10-07 10:02:36.169 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 10:02:36.171 +03:00 [DBG] Hosting started
2022-10-07 10:02:36.333 +03:00 [DBG] Connection id "0HML867L41QV9" received FIN.
2022-10-07 10:02:36.333 +03:00 [DBG] Connection id "0HML867L41QV8" received FIN.
2022-10-07 10:02:36.351 +03:00 [DBG] Connection id "0HML867L41QV8" accepted.
2022-10-07 10:02:36.351 +03:00 [DBG] Connection id "0HML867L41QV9" accepted.
2022-10-07 10:02:36.355 +03:00 [DBG] Connection id "0HML867L41QV8" started.
2022-10-07 10:02:36.355 +03:00 [DBG] Connection id "0HML867L41QV9" started.
2022-10-07 10:02:36.382 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:02:36.386 +03:00 [DBG] Connection id "0HML867L41QVA" accepted.
2022-10-07 10:02:36.382 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:02:36.438 +03:00 [DBG] Connection id "0HML867L41QVA" started.
2022-10-07 10:02:36.450 +03:00 [DBG] Connection id "0HML867L41QV8" stopped.
2022-10-07 10:02:36.450 +03:00 [DBG] Connection id "0HML867L41QV9" stopped.
2022-10-07 10:02:36.467 +03:00 [DBG] Connection id "0HML867L41QV8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:02:36.467 +03:00 [DBG] Connection id "0HML867L41QV9" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:02:36.540 +03:00 [DBG] Connection 0HML867L41QVA established using the following protocol: "Tls12"
2022-10-07 10:02:37.731 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7198/swagger/index.html - -
2022-10-07 10:02:37.778 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 10:02:37.917 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-07 10:02:38.144 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-07 10:02:38.151 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7198/swagger/index.html - - - 200 - text/html;charset=utf-8 426.6119ms
2022-10-07 10:02:38.224 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7198/_vs/browserLink - -
2022-10-07 10:02:38.224 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7198/_framework/aspnetcore-browser-refresh.js - -
2022-10-07 10:02:38.244 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7198/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 19.2007ms
2022-10-07 10:02:38.268 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7198/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.9291ms
2022-10-07 10:02:38.525 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7198/swagger/v1/swagger.json - -
2022-10-07 10:02:38.781 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7198/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 255.4175ms
2022-10-07 10:03:00.921 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7198/api/cities/1?includePOIs=true - -
2022-10-07 10:03:00.927 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:03:00.965 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-10-07 10:03:00.972 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-10-07 10:03:00.976 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:03:00.981 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:03:01.017 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:03:01.022 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:03:01.024 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:03:01.026 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:03:01.029 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:03:01.030 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:03:01.033 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:03:01.240 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 10:03:01.491 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:03:01.506 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:03:01.510 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:03:01.514 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:03:01.516 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:03:01.517 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:03:01.521 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:03:01.524 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:03:01.527 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 10:03:01.532 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:03:01.533 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:03:01.535 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:03:01.536 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:03:02.657 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:03:02.783 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 10:03:02.934 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 10:03:03.416 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 10:03:03.502 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:03:03.851 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (342ms).
2022-10-07 10:03:03.872 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:03:03.899 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:03:03.922 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:03:03.965 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:03:03.997 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:03:04.045 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:03:04.071 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:03:04.086 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:03:04.098 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:03:04.109 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:03:04.243 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3203.8792ms
2022-10-07 10:03:04.248 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:03:04.251 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto

Type Map configuration:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto

Destination Member:
PointsOfInterest

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> PointOfInterestDto
CityInfo.API.Entities.PointOfInterest -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method91(Closure , PointOfInterest , PointOfInterestDto , ResolutionContext )
   at lambda_method90(Closure , Object , CityDto , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method90(Closure , Object , CityDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePOIs) in C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 42
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-07 10:03:04.304 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:03:04.312 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7198/api/cities/1?includePOIs=true - - - 500 - text/plain;+charset=utf-8 3390.8694ms
2022-10-07 10:05:57.928 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 10:05:58.073 +03:00 [DBG] Hosting starting
2022-10-07 10:05:58.247 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 10:05:58.305 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 10:05:58.306 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 10:05:58.307 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 10:05:58.308 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 10:05:58.309 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 10:05:58.310 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 10:05:58.312 +03:00 [INF] Hosting environment: Development
2022-10-07 10:05:58.313 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 10:05:58.315 +03:00 [DBG] Hosting started
2022-10-07 10:05:58.587 +03:00 [DBG] Connection id "0HML869HCSQQV" received FIN.
2022-10-07 10:05:58.600 +03:00 [DBG] Connection id "0HML869HCSQQV" accepted.
2022-10-07 10:05:58.603 +03:00 [DBG] Connection id "0HML869HCSQQV" started.
2022-10-07 10:05:58.625 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:05:58.673 +03:00 [DBG] Connection id "0HML869HCSQQV" stopped.
2022-10-07 10:05:58.681 +03:00 [DBG] Connection id "0HML869HCSQQV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:06:06.709 +03:00 [DBG] Connection id "0HML869HCSQR0" accepted.
2022-10-07 10:06:06.710 +03:00 [DBG] Connection id "0HML869HCSQR0" received FIN.
2022-10-07 10:06:06.711 +03:00 [DBG] Connection id "0HML869HCSQR0" started.
2022-10-07 10:06:06.718 +03:00 [DBG] Connection id "0HML869HCSQR1" accepted.
2022-10-07 10:06:06.720 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:06:06.721 +03:00 [DBG] Connection id "0HML869HCSQR1" started.
2022-10-07 10:06:06.725 +03:00 [DBG] Connection id "0HML869HCSQR0" stopped.
2022-10-07 10:06:06.728 +03:00 [DBG] Connection id "0HML869HCSQR0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:06:06.783 +03:00 [DBG] Connection 0HML869HCSQR1 established using the following protocol: "Tls12"
2022-10-07 10:06:06.832 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1 - -
2022-10-07 10:06:06.849 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 10:06:06.924 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:06:06.965 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-10-07 10:06:06.972 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-10-07 10:06:06.976 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:06:06.979 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:06:07.019 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:06:07.023 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:06:07.024 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:06:07.027 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:06:07.029 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:06:07.031 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:06:07.033 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:06:07.224 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 10:06:07.454 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:06:07.464 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:06:07.469 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:06:07.474 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:06:07.476 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:06:07.478 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:06:07.482 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:06:07.487 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:06:07.490 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name '' in request data ...
2022-10-07 10:06:07.492 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:06:07.496 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:06:07.497 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:06:07.499 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:06:07.501 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:06:08.688 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:06:08.829 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-10-07 10:06:09.291 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 10:06:09.389 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:06:09.499 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (102ms).
2022-10-07 10:06:09.522 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:06:09.552 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:06:09.578 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 10:06:09.616 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 10:06:09.651 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:06:09.711 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:06:09.723 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:06:09.734 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:06:09.753 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 10:06:09.759 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 10:06:09.760 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 10:06:09.762 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 10:06:09.763 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 10:06:09.765 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPOIsDTO'.
2022-10-07 10:06:09.966 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 2923.9045ms
2022-10-07 10:06:09.970 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:06:09.972 +03:00 [DBG] Connection id "0HML869HCSQR1" completed keep alive response.
2022-10-07 10:06:09.980 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:06:09.988 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1 - - - 200 72 application/json;+charset=utf-8 3161.5711ms
2022-10-07 10:07:08.953 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - -
2022-10-07 10:07:08.956 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:07:08.958 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-10-07 10:07:08.960 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-10-07 10:07:08.962 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:07:08.964 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:07:08.966 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:07:08.968 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:07:08.969 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:07:08.971 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:07:08.973 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:07:08.975 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:07:08.978 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:07:08.979 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:07:08.996 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:07:08.998 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:07:08.999 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:07:09.000 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:07:09.002 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:07:09.003 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:07:09.004 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:07:09.006 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 10:07:09.009 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:07:09.011 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:07:09.013 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:07:09.014 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:07:09.027 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:07:09.068 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 10:07:09.097 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 10:07:09.249 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 10:07:09.260 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:07:09.261 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 10:07:09.264 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:07:09.267 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:07:09.269 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:07:09.273 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:07:09.279 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:07:09.299 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:07:09.323 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:07:09.327 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:07:09.328 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:07:09.330 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:07:09.429 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 451.3003ms
2022-10-07 10:07:09.431 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:07:09.434 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto

Type Map configuration:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto

Destination Member:
PointsOfInterest

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> PointOfInterestDto
CityInfo.API.Entities.PointOfInterest -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method99(Closure , PointOfInterest , PointOfInterestDto , ResolutionContext )
   at lambda_method98(Closure , Object , CityDto , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method98(Closure , Object , CityDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePOIs) in C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-07 10:07:09.489 +03:00 [DBG] Connection id "0HML869HCSQR1" completed keep alive response.
2022-10-07 10:07:09.491 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:07:09.492 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - - - 500 - text/plain;+charset=utf-8 539.0087ms
2022-10-07 10:10:20.737 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 10:10:20.862 +03:00 [DBG] Hosting starting
2022-10-07 10:10:21.065 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 10:10:21.131 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 10:10:21.133 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 10:10:21.134 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 10:10:21.135 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 10:10:21.136 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 10:10:21.138 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 10:10:21.139 +03:00 [INF] Hosting environment: Development
2022-10-07 10:10:21.141 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 10:10:21.142 +03:00 [DBG] Hosting started
2022-10-07 10:10:21.460 +03:00 [DBG] Connection id "0HML86BVNQ2OA" accepted.
2022-10-07 10:10:21.461 +03:00 [DBG] Connection id "0HML86BVNQ2OA" received FIN.
2022-10-07 10:10:21.463 +03:00 [DBG] Connection id "0HML86BVNQ2OA" started.
2022-10-07 10:10:21.483 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:10:21.534 +03:00 [DBG] Connection id "0HML86BVNQ2OA" stopped.
2022-10-07 10:10:21.539 +03:00 [DBG] Connection id "0HML86BVNQ2OA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:10:22.350 +03:00 [DBG] Connection id "0HML86BVNQ2OB" accepted.
2022-10-07 10:10:22.351 +03:00 [DBG] Connection id "0HML86BVNQ2OB" received FIN.
2022-10-07 10:10:22.352 +03:00 [DBG] Connection id "0HML86BVNQ2OB" started.
2022-10-07 10:10:22.355 +03:00 [DBG] Connection id "0HML86BVNQ2OC" accepted.
2022-10-07 10:10:22.357 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:10:22.359 +03:00 [DBG] Connection id "0HML86BVNQ2OC" started.
2022-10-07 10:10:22.363 +03:00 [DBG] Connection id "0HML86BVNQ2OB" stopped.
2022-10-07 10:10:22.365 +03:00 [DBG] Connection id "0HML86BVNQ2OB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:10:22.417 +03:00 [DBG] Connection 0HML86BVNQ2OC established using the following protocol: "Tls12"
2022-10-07 10:10:22.478 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - -
2022-10-07 10:10:22.500 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 10:10:22.561 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:10:22.606 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-10-07 10:10:22.614 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-10-07 10:10:22.616 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:10:22.621 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:10:22.654 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:10:22.660 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:10:22.663 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:10:22.665 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:10:22.669 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:10:22.671 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:10:22.673 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:10:22.872 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 10:10:23.136 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:10:23.153 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:10:23.157 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:10:23.162 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:10:23.164 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:10:23.166 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:10:23.169 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:10:23.173 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:10:23.177 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 10:10:23.180 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:10:23.181 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:10:23.183 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:10:23.184 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:10:24.378 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:10:24.482 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 10:10:24.629 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 10:10:25.116 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 10:10:25.201 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:10:25.315 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (106ms).
2022-10-07 10:10:25.342 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:10:25.376 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:10:25.401 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:10:25.439 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:10:25.471 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:10:25.510 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:10:25.530 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:10:25.540 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:10:25.561 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:10:25.576 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:10:25.602 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 10:10:25.612 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 10:10:25.614 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 10:10:25.615 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 10:10:25.617 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 10:10:25.619 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 10:10:25.846 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3166.9708ms
2022-10-07 10:10:25.849 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:10:25.851 +03:00 [DBG] Connection id "0HML86BVNQ2OC" completed keep alive response.
2022-10-07 10:10:25.858 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:10:25.868 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - - - 200 247 application/json;+charset=utf-8 3394.9778ms
2022-10-07 10:11:27.200 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/2?includePOIs=true - -
2022-10-07 10:11:27.202 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:11:27.204 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2022-10-07 10:11:27.206 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2022-10-07 10:11:27.209 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:11:27.211 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:11:27.213 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:11:27.218 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:11:27.220 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:11:27.222 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:11:27.226 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:11:27.228 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:11:27.231 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:11:27.233 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:11:27.243 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:11:27.244 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:11:27.245 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:11:27.247 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:11:27.249 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:11:27.250 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:11:27.251 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:11:27.253 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 10:11:27.254 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:11:27.256 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:11:27.257 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:11:27.259 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:11:27.288 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:11:27.296 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:11:27.297 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 10:11:27.299 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:11:27.300 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:11:27.302 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:11:27.304 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:11:27.306 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:11:27.308 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:11:27.311 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:11:27.311 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:11:27.313 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:11:27.314 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 10:11:27.317 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 10:11:27.318 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 10:11:27.319 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 10:11:27.320 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 10:11:27.321 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 10:11:27.323 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 91.5765ms
2022-10-07 10:11:27.326 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:11:27.329 +03:00 [DBG] Connection id "0HML86BVNQ2OC" completed keep alive response.
2022-10-07 10:11:27.330 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:11:27.331 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/2?includePOIs=true - - - 200 169 application/json;+charset=utf-8 131.4555ms
2022-10-07 10:12:17.337 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 10:12:17.498 +03:00 [DBG] Hosting starting
2022-10-07 10:12:17.686 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 10:12:17.757 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 10:12:17.758 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 10:12:17.759 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 10:12:17.761 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 10:12:17.762 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 10:12:17.763 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 10:12:17.764 +03:00 [INF] Hosting environment: Development
2022-10-07 10:12:17.765 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 10:12:17.766 +03:00 [DBG] Hosting started
2022-10-07 10:12:17.821 +03:00 [DBG] Connection id "0HML86D2DHQTF" received FIN.
2022-10-07 10:12:17.836 +03:00 [DBG] Connection id "0HML86D2DHQTF" accepted.
2022-10-07 10:12:17.839 +03:00 [DBG] Connection id "0HML86D2DHQTF" started.
2022-10-07 10:12:17.860 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:12:17.909 +03:00 [DBG] Connection id "0HML86D2DHQTF" stopped.
2022-10-07 10:12:17.915 +03:00 [DBG] Connection id "0HML86D2DHQTF" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:12:33.075 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 10:12:33.250 +03:00 [DBG] Hosting starting
2022-10-07 10:12:33.515 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 10:12:33.582 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 10:12:33.584 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 10:12:33.585 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 10:12:33.586 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 10:12:33.587 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 10:12:33.589 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 10:12:33.591 +03:00 [INF] Hosting environment: Development
2022-10-07 10:12:33.592 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 10:12:33.593 +03:00 [DBG] Hosting started
2022-10-07 10:12:33.993 +03:00 [DBG] Connection id "0HML86D77NO0E" accepted.
2022-10-07 10:12:33.993 +03:00 [DBG] Connection id "0HML86D77NO0F" accepted.
2022-10-07 10:12:33.997 +03:00 [DBG] Connection id "0HML86D77NO0E" started.
2022-10-07 10:12:33.997 +03:00 [DBG] Connection id "0HML86D77NO0F" started.
2022-10-07 10:12:34.035 +03:00 [DBG] Connection id "0HML86D77NO0E" received FIN.
2022-10-07 10:12:34.035 +03:00 [DBG] Connection id "0HML86D77NO0F" received FIN.
2022-10-07 10:12:34.063 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:12:34.063 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:12:34.112 +03:00 [DBG] Connection id "0HML86D77NO0F" stopped.
2022-10-07 10:12:34.112 +03:00 [DBG] Connection id "0HML86D77NO0E" stopped.
2022-10-07 10:12:34.116 +03:00 [DBG] Connection id "0HML86D77NO0F" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:12:34.116 +03:00 [DBG] Connection id "0HML86D77NO0E" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:12:39.707 +03:00 [DBG] Connection id "0HML86D77NO0G" accepted.
2022-10-07 10:12:39.708 +03:00 [DBG] Connection id "0HML86D77NO0G" received FIN.
2022-10-07 10:12:39.709 +03:00 [DBG] Connection id "0HML86D77NO0G" started.
2022-10-07 10:12:39.712 +03:00 [DBG] Connection id "0HML86D77NO0H" accepted.
2022-10-07 10:12:39.714 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:12:39.715 +03:00 [DBG] Connection id "0HML86D77NO0H" started.
2022-10-07 10:12:39.721 +03:00 [DBG] Connection id "0HML86D77NO0G" stopped.
2022-10-07 10:12:39.723 +03:00 [DBG] Connection id "0HML86D77NO0G" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:12:39.766 +03:00 [DBG] Connection 0HML86D77NO0H established using the following protocol: "Tls12"
2022-10-07 10:12:39.820 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/2?includePOIs=true - -
2022-10-07 10:12:39.850 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 10:12:39.915 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:12:39.951 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2022-10-07 10:12:39.959 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2022-10-07 10:12:39.964 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:12:39.969 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:12:40.018 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:12:40.022 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:12:40.024 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:12:40.026 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:12:40.028 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:12:40.030 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:12:40.032 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:12:40.241 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 10:12:40.493 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:12:40.503 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:12:40.508 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:12:40.511 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:12:40.513 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:12:40.515 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:12:40.519 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:12:40.523 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:12:40.526 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 10:12:40.528 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:12:40.529 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:12:40.531 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:12:40.532 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:12:41.745 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:12:41.888 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 10:12:42.053 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 10:12:42.517 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 10:12:42.609 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:12:42.714 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (100ms).
2022-10-07 10:12:42.739 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:12:42.771 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:12:42.800 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:12:42.835 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:12:42.869 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:12:42.907 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:12:42.946 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:12:42.958 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:12:42.968 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:12:42.991 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 10:12:43.000 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 10:12:43.002 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 10:12:43.004 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 10:12:43.008 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 10:12:43.011 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 10:12:43.199 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3161.5814ms
2022-10-07 10:12:43.202 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:12:43.204 +03:00 [DBG] Connection id "0HML86D77NO0H" completed keep alive response.
2022-10-07 10:12:43.215 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:12:43.225 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/2?includePOIs=true - - - 200 169 application/json;+charset=utf-8 3409.0306ms
2022-10-07 10:13:40.822 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 10:13:40.965 +03:00 [DBG] Hosting starting
2022-10-07 10:13:41.163 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 10:13:41.233 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 10:13:41.235 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 10:13:41.236 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 10:13:41.237 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 10:13:41.238 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 10:13:41.240 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 10:13:41.241 +03:00 [INF] Hosting environment: Development
2022-10-07 10:13:41.243 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 10:13:41.244 +03:00 [DBG] Hosting started
2022-10-07 10:13:41.515 +03:00 [DBG] Connection id "0HML86DRBN4KH" received FIN.
2022-10-07 10:13:41.515 +03:00 [DBG] Connection id "0HML86DRBN4KG" received FIN.
2022-10-07 10:13:41.519 +03:00 [DBG] Connection id "0HML86DRBN4KH" accepted.
2022-10-07 10:13:41.519 +03:00 [DBG] Connection id "0HML86DRBN4KG" accepted.
2022-10-07 10:13:41.522 +03:00 [DBG] Connection id "0HML86DRBN4KG" started.
2022-10-07 10:13:41.522 +03:00 [DBG] Connection id "0HML86DRBN4KH" started.
2022-10-07 10:13:41.545 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:13:41.545 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:13:41.598 +03:00 [DBG] Connection id "0HML86DRBN4KH" stopped.
2022-10-07 10:13:41.598 +03:00 [DBG] Connection id "0HML86DRBN4KG" stopped.
2022-10-07 10:13:41.604 +03:00 [DBG] Connection id "0HML86DRBN4KG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:13:41.604 +03:00 [DBG] Connection id "0HML86DRBN4KH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:13:42.994 +03:00 [DBG] Connection id "0HML86DRBN4KI" accepted.
2022-10-07 10:13:42.995 +03:00 [DBG] Connection id "0HML86DRBN4KI" received FIN.
2022-10-07 10:13:42.997 +03:00 [DBG] Connection id "0HML86DRBN4KI" started.
2022-10-07 10:13:42.999 +03:00 [DBG] Connection id "0HML86DRBN4KJ" accepted.
2022-10-07 10:13:43.000 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:13:43.000 +03:00 [DBG] Connection id "0HML86DRBN4KJ" started.
2022-10-07 10:13:43.004 +03:00 [DBG] Connection id "0HML86DRBN4KI" stopped.
2022-10-07 10:13:43.006 +03:00 [DBG] Connection id "0HML86DRBN4KI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:13:43.066 +03:00 [DBG] Connection 0HML86DRBN4KJ established using the following protocol: "Tls12"
2022-10-07 10:13:43.119 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/2?includePOIs=true - -
2022-10-07 10:13:43.135 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 10:13:43.196 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:13:43.231 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2022-10-07 10:13:43.239 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2022-10-07 10:13:43.242 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:13:43.246 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:13:43.293 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:13:43.297 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:13:43.300 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:13:43.302 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:13:43.305 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:13:43.308 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:13:43.310 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:13:43.523 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 10:13:43.784 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:13:43.800 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:13:43.805 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:13:43.810 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:13:43.811 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:13:43.813 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:13:43.816 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:13:43.819 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:13:43.822 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 10:13:43.825 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:13:43.826 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:13:43.828 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:13:43.829 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:13:44.985 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:13:45.117 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 10:13:45.238 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 10:13:45.741 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 10:13:45.817 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:13:45.922 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (99ms).
2022-10-07 10:13:45.946 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:13:45.979 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:13:46.003 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:13:46.046 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:13:46.078 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:13:46.128 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:13:46.167 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:13:46.182 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:13:46.194 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:13:46.219 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 10:13:46.228 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 10:13:46.229 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 10:13:46.231 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 10:13:46.233 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 10:13:46.235 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 10:13:46.452 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3134.6563ms
2022-10-07 10:13:46.455 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:13:46.457 +03:00 [DBG] Connection id "0HML86DRBN4KJ" completed keep alive response.
2022-10-07 10:13:46.469 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:13:46.478 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/2?includePOIs=true - - - 200 169 application/json;+charset=utf-8 3362.5733ms
2022-10-07 10:14:53.864 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 10:14:53.986 +03:00 [DBG] Hosting starting
2022-10-07 10:14:54.163 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 10:14:54.226 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 10:14:54.228 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 10:14:54.229 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 10:14:54.230 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 10:14:54.231 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 10:14:54.232 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 10:14:54.233 +03:00 [INF] Hosting environment: Development
2022-10-07 10:14:54.234 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 10:14:54.235 +03:00 [DBG] Hosting started
2022-10-07 10:14:54.295 +03:00 [DBG] Connection id "0HML86EH1NPR7" accepted.
2022-10-07 10:14:54.295 +03:00 [DBG] Connection id "0HML86EH1NPR8" accepted.
2022-10-07 10:14:54.300 +03:00 [DBG] Connection id "0HML86EH1NPR7" started.
2022-10-07 10:14:54.300 +03:00 [DBG] Connection id "0HML86EH1NPR8" started.
2022-10-07 10:14:54.310 +03:00 [DBG] Connection id "0HML86EH1NPR8" received FIN.
2022-10-07 10:14:54.310 +03:00 [DBG] Connection id "0HML86EH1NPR7" received FIN.
2022-10-07 10:14:54.341 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:14:54.341 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:14:54.391 +03:00 [DBG] Connection id "0HML86EH1NPR7" stopped.
2022-10-07 10:14:54.391 +03:00 [DBG] Connection id "0HML86EH1NPR8" stopped.
2022-10-07 10:14:54.395 +03:00 [DBG] Connection id "0HML86EH1NPR8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:14:54.395 +03:00 [DBG] Connection id "0HML86EH1NPR7" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:14:55.953 +03:00 [DBG] Connection id "0HML86EH1NPR9" accepted.
2022-10-07 10:14:55.959 +03:00 [DBG] Connection id "0HML86EH1NPR9" received FIN.
2022-10-07 10:14:55.960 +03:00 [DBG] Connection id "0HML86EH1NPR9" started.
2022-10-07 10:14:55.963 +03:00 [DBG] Connection id "0HML86EH1NPRA" accepted.
2022-10-07 10:14:55.966 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:14:55.966 +03:00 [DBG] Connection id "0HML86EH1NPRA" started.
2022-10-07 10:14:55.970 +03:00 [DBG] Connection id "0HML86EH1NPR9" stopped.
2022-10-07 10:14:55.973 +03:00 [DBG] Connection id "0HML86EH1NPR9" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:14:56.021 +03:00 [DBG] Connection 0HML86EH1NPRA established using the following protocol: "Tls12"
2022-10-07 10:14:56.069 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/2?includePOIs=true - -
2022-10-07 10:14:56.085 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 10:14:56.149 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:14:56.186 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2022-10-07 10:14:56.195 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2022-10-07 10:14:56.198 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:14:56.203 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:14:56.248 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:14:56.254 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:14:56.255 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:14:56.258 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:14:56.260 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:14:56.262 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:14:56.265 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:14:56.471 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 10:14:56.711 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:14:56.726 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:14:56.732 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:14:56.736 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:14:56.738 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:14:56.739 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:14:56.743 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:14:56.748 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:14:56.750 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 10:14:56.752 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:14:56.754 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:14:56.755 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:14:56.758 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:14:57.938 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:14:58.050 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 10:14:58.199 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 10:14:58.662 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 10:14:58.746 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:14:58.851 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (103ms).
2022-10-07 10:14:58.878 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:14:58.906 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:14:58.928 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:14:58.977 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:14:59.013 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:14:59.067 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:14:59.096 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:14:59.105 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:14:59.117 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:14:59.135 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 10:14:59.143 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 10:14:59.144 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 10:14:59.146 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 10:14:59.148 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 10:14:59.151 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 10:14:59.383 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3110.2796ms
2022-10-07 10:14:59.386 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:14:59.388 +03:00 [DBG] Connection id "0HML86EH1NPRA" completed keep alive response.
2022-10-07 10:14:59.398 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:14:59.405 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/2?includePOIs=true - - - 200 169 application/json;+charset=utf-8 3341.6673ms
2022-10-07 10:18:23.512 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 10:18:24.245 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:18:24.291 +03:00 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:24.298 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:24.312 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:18:24.327 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-10-07 10:18:24.334 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2022-10-07 10:18:24.335 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:24.339 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:18:24.347 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2022-10-07 10:18:24.364 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2022-10-07 10:18:24.366 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:18:24.369 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:24.371 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:24.372 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:18:24.372 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-10-07 10:18:24.372 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-10-07 10:18:24.372 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:24.372 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:18:24.372 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2022-10-07 10:18:24.373 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2022-10-07 10:18:24.373 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:18:24.373 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:24.386 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:18:24.387 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 10:18:24.387 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:24.387 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:18:24.387 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-10-07 10:18:24.388 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-10-07 10:18:24.391 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:18:24.391 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:18:24.391 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:24.402 +03:00 [INF] No migrations were applied. The database is already up to date.
2022-10-07 10:18:24.403 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:18:35.381 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 10:18:35.524 +03:00 [DBG] Hosting starting
2022-10-07 10:18:35.706 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 10:18:35.770 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 10:18:35.772 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 10:18:35.773 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 10:18:35.774 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 10:18:35.776 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 10:18:35.778 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 10:18:35.779 +03:00 [INF] Hosting environment: Development
2022-10-07 10:18:35.780 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 10:18:35.781 +03:00 [DBG] Hosting started
2022-10-07 10:18:35.983 +03:00 [DBG] Connection id "0HML86GJ3U7NQ" accepted.
2022-10-07 10:18:35.983 +03:00 [DBG] Connection id "0HML86GJ3U7NR" accepted.
2022-10-07 10:18:35.987 +03:00 [DBG] Connection id "0HML86GJ3U7NQ" started.
2022-10-07 10:18:35.987 +03:00 [DBG] Connection id "0HML86GJ3U7NR" started.
2022-10-07 10:18:35.998 +03:00 [DBG] Connection id "0HML86GJ3U7NR" received FIN.
2022-10-07 10:18:35.998 +03:00 [DBG] Connection id "0HML86GJ3U7NQ" received FIN.
2022-10-07 10:18:36.021 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:18:36.020 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:18:36.069 +03:00 [DBG] Connection id "0HML86GJ3U7NQ" stopped.
2022-10-07 10:18:36.069 +03:00 [DBG] Connection id "0HML86GJ3U7NR" stopped.
2022-10-07 10:18:36.075 +03:00 [DBG] Connection id "0HML86GJ3U7NR" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:18:36.075 +03:00 [DBG] Connection id "0HML86GJ3U7NQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:18:38.796 +03:00 [DBG] Connection id "0HML86GJ3U7NS" accepted.
2022-10-07 10:18:38.797 +03:00 [DBG] Connection id "0HML86GJ3U7NS" received FIN.
2022-10-07 10:18:38.798 +03:00 [DBG] Connection id "0HML86GJ3U7NS" started.
2022-10-07 10:18:38.800 +03:00 [DBG] Connection id "0HML86GJ3U7NT" accepted.
2022-10-07 10:18:38.802 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:18:38.803 +03:00 [DBG] Connection id "0HML86GJ3U7NT" started.
2022-10-07 10:18:38.807 +03:00 [DBG] Connection id "0HML86GJ3U7NS" stopped.
2022-10-07 10:18:38.809 +03:00 [DBG] Connection id "0HML86GJ3U7NS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:18:38.871 +03:00 [DBG] Connection 0HML86GJ3U7NT established using the following protocol: "Tls12"
2022-10-07 10:18:38.923 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/2?includePOIs=true - -
2022-10-07 10:18:38.943 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 10:18:38.998 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:18:39.034 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2022-10-07 10:18:39.043 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2022-10-07 10:18:39.046 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:18:39.050 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:18:39.101 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:18:39.105 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:18:39.107 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:18:39.110 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:18:39.112 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:18:39.114 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:18:39.116 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:18:39.318 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 10:18:39.567 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:18:39.579 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:18:39.583 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:18:39.585 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:18:39.587 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:18:39.588 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:18:39.593 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:18:39.600 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:18:39.604 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 10:18:39.607 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:18:39.609 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:18:39.610 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:18:39.612 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:18:40.770 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:18:40.906 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 10:18:41.031 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 10:18:41.536 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 10:18:41.623 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:18:41.730 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (101ms).
2022-10-07 10:18:41.750 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:41.774 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:18:41.795 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:18:41.837 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:18:41.867 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:18:41.919 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:18:41.953 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:18:41.966 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:18:41.976 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:41.995 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 10:18:42.001 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 10:18:42.002 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 10:18:42.005 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 10:18:42.009 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 10:18:42.012 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 10:18:42.274 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3150.4305ms
2022-10-07 10:18:42.278 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:18:42.280 +03:00 [DBG] Connection id "0HML86GJ3U7NT" completed keep alive response.
2022-10-07 10:18:42.288 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:18:42.296 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/2?includePOIs=true - - - 200 169 application/json;+charset=utf-8 3379.4901ms
2022-10-07 10:18:49.492 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - -
2022-10-07 10:18:49.493 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:18:49.495 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-10-07 10:18:49.496 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-10-07 10:18:49.498 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:18:49.500 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:18:49.502 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:18:49.507 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:18:49.510 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:18:49.511 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:18:49.517 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:18:49.519 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:18:49.521 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:18:49.524 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:18:49.526 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:18:49.529 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:18:49.531 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:18:49.532 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:18:49.534 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:18:49.535 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:18:49.537 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:18:49.538 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 10:18:49.540 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:18:49.542 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:18:49.544 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:18:49.546 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:18:49.549 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:18:49.556 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:18:49.559 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-10-07 10:18:49.561 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:49.562 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:18:49.564 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:18:49.567 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:18:49.570 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:18:49.572 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:18:49.573 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:18:49.576 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:18:49.578 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:18:49.581 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:18:49.582 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 10:18:49.585 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 10:18:49.586 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 10:18:49.587 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 10:18:49.588 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 10:18:49.589 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 10:18:49.592 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 71.0477ms
2022-10-07 10:18:49.594 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:18:49.596 +03:00 [DBG] Connection id "0HML86GJ3U7NT" completed keep alive response.
2022-10-07 10:18:49.597 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:18:49.598 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - - - 200 247 application/json;+charset=utf-8 106.7057ms
2022-10-07 10:26:57.026 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 10:26:57.155 +03:00 [DBG] Hosting starting
2022-10-07 10:26:57.342 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 10:26:57.401 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 10:26:57.403 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 10:26:57.404 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 10:26:57.406 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 10:26:57.409 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 10:26:57.410 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 10:26:57.412 +03:00 [INF] Hosting environment: Development
2022-10-07 10:26:57.412 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 10:26:57.414 +03:00 [DBG] Hosting started
2022-10-07 10:26:57.574 +03:00 [DBG] Connection id "0HML86L8JH56T" received FIN.
2022-10-07 10:26:57.586 +03:00 [DBG] Connection id "0HML86L8JH56T" accepted.
2022-10-07 10:26:57.591 +03:00 [DBG] Connection id "0HML86L8JH56T" started.
2022-10-07 10:26:57.613 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:26:57.667 +03:00 [DBG] Connection id "0HML86L8JH56T" stopped.
2022-10-07 10:26:57.675 +03:00 [DBG] Connection id "0HML86L8JH56T" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:27:01.423 +03:00 [DBG] Connection id "0HML86L8JH56U" accepted.
2022-10-07 10:27:01.424 +03:00 [DBG] Connection id "0HML86L8JH56U" started.
2022-10-07 10:27:01.423 +03:00 [DBG] Connection id "0HML86L8JH56U" received FIN.
2022-10-07 10:27:01.433 +03:00 [DBG] Connection id "0HML86L8JH56V" accepted.
2022-10-07 10:27:01.434 +03:00 [DBG] Connection id "0HML86L8JH56V" started.
2022-10-07 10:27:01.438 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 10:27:01.445 +03:00 [DBG] Connection id "0HML86L8JH56U" stopped.
2022-10-07 10:27:01.447 +03:00 [DBG] Connection id "0HML86L8JH56U" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 10:27:01.484 +03:00 [DBG] Connection 0HML86L8JH56V established using the following protocol: "Tls12"
2022-10-07 10:27:01.529 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - -
2022-10-07 10:27:01.544 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 10:27:01.597 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:27:01.647 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-10-07 10:27:01.652 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-10-07 10:27:01.655 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:27:01.658 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:27:01.700 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:27:01.705 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:27:01.707 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:27:01.710 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:27:01.713 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:27:01.714 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:27:01.716 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:27:01.913 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 10:27:02.154 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:27:02.165 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:27:02.168 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:27:02.172 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:27:02.174 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:27:02.176 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:27:02.180 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:27:02.186 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:27:02.192 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 10:27:02.195 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:27:02.196 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:27:02.198 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:27:02.199 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:27:03.414 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:27:03.530 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 10:27:03.661 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 10:27:04.186 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 10:27:04.269 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:27:04.382 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (105ms).
2022-10-07 10:27:04.407 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:27:04.434 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:27:04.455 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:27:04.490 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:27:04.518 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:27:04.562 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:27:04.598 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:27:04.613 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:27:04.628 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:27:04.636 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:27:04.653 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 10:27:04.659 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 10:27:04.660 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 10:27:04.662 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 10:27:04.663 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 10:27:04.665 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 10:27:04.901 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3176.3161ms
2022-10-07 10:27:04.905 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:27:04.907 +03:00 [DBG] Connection id "0HML86L8JH56V" completed keep alive response.
2022-10-07 10:27:04.915 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:27:04.923 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - - - 200 247 application/json;+charset=utf-8 3398.2859ms
2022-10-07 10:27:12.460 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=false - -
2022-10-07 10:27:12.461 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:27:12.464 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-10-07 10:27:12.465 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-10-07 10:27:12.468 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:27:12.470 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:27:12.471 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:27:12.474 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:27:12.476 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:27:12.478 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:27:12.481 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:27:12.482 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:27:12.484 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:27:12.486 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:27:12.487 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:27:12.489 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:27:12.490 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:27:12.492 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:27:12.494 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:27:12.496 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:27:12.498 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:27:12.500 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 10:27:12.502 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:27:12.503 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:27:12.504 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:27:12.505 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:27:12.508 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:27:12.512 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-10-07 10:27:12.517 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 10:27:12.520 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:27:12.521 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 10:27:12.523 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:27:12.526 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:27:12.529 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 10:27:12.531 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 10:27:12.533 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:27:12.534 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:27:12.535 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:27:12.536 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:27:12.540 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 10:27:12.544 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 10:27:12.546 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 10:27:12.547 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 10:27:12.548 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 10:27:12.549 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPOIsDTO'.
2022-10-07 10:27:12.552 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 68.6447ms
2022-10-07 10:27:12.556 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:27:12.557 +03:00 [DBG] Connection id "0HML86L8JH56V" completed keep alive response.
2022-10-07 10:27:12.559 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:27:12.561 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=false - - - 200 72 application/json;+charset=utf-8 101.0770ms
2022-10-07 10:27:23.133 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - -
2022-10-07 10:27:23.135 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:27:23.136 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2022-10-07 10:27:23.139 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2022-10-07 10:27:23.144 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:27:23.148 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:27:23.150 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:27:23.154 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:27:23.156 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:27:23.157 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:27:23.162 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:27:23.166 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:27:23.167 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:27:23.170 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:27:23.172 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 10:27:23.173 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 10:27:23.175 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:27:23.177 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 10:27:23.184 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 10:27:23.186 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 10:27:23.190 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:27:23.192 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 10:27:23.195 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:27:23.196 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:27:23.198 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 10:27:23.199 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 10:27:23.265 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:27:23.273 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:27:23.275 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 10:27:23.277 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:27:23.279 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:27:23.280 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:27:23.284 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 10:27:23.287 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:27:23.288 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:27:23.291 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:27:23.294 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:27:23.295 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:27:23.297 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 10:27:23.301 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 10:27:23.301 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 10:27:23.302 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 10:27:23.303 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 10:27:23.304 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 10:27:23.306 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 139.2782ms
2022-10-07 10:27:23.309 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 10:27:23.310 +03:00 [DBG] Connection id "0HML86L8JH56V" completed keep alive response.
2022-10-07 10:27:23.312 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:27:23.313 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - - - 200 172 application/json;+charset=utf-8 180.3646ms
2022-10-07 10:27:29.508 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/ - -
2022-10-07 10:27:29.510 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 10:27:29.511 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2022-10-07 10:27:29.513 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2022-10-07 10:27:29.516 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-10-07 10:27:29.517 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-10-07 10:27:29.521 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 10:27:29.524 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 10:27:29.526 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 10:27:29.529 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 10:27:29.532 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 10:27:29.534 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 10:27:29.536 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:27:29.538 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 10:27:29.551 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 10:27:29.554 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2022-10-07 10:27:29.557 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 10:27:29.560 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 10:27:29.561 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 10:27:29.563 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:27:29.565 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:27:29.566 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 10:27:29.570 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 10:27:29.574 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:27:29.577 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:27:29.580 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 10:27:29.582 +03:00 [DBG] A data reader was disposed.
2022-10-07 10:27:29.583 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 10:27:29.586 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 10:27:29.598 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 10:27:29.604 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-10-07 10:27:29.605 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 10:27:29.607 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPOIsDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-07 10:27:29.611 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 75.0393ms
2022-10-07 10:27:29.612 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-10-07 10:27:29.613 +03:00 [DBG] Connection id "0HML86L8JH56V" completed keep alive response.
2022-10-07 10:27:29.615 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 10:27:29.616 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/ - - - 200 222 application/json;+charset=utf-8 108.1949ms
2022-10-07 11:30:54.300 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 11:30:54.453 +03:00 [DBG] Hosting starting
2022-10-07 11:30:54.638 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 11:30:54.703 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 11:30:54.705 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 11:30:54.706 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 11:30:54.707 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 11:30:54.708 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 11:30:54.710 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 11:30:54.710 +03:00 [INF] Hosting environment: Development
2022-10-07 11:30:54.712 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 11:30:54.713 +03:00 [DBG] Hosting started
2022-10-07 11:30:54.967 +03:00 [DBG] Connection id "0HML87P07OIFV" received FIN.
2022-10-07 11:30:54.981 +03:00 [DBG] Connection id "0HML87P07OIFV" accepted.
2022-10-07 11:30:54.984 +03:00 [DBG] Connection id "0HML87P07OIFV" started.
2022-10-07 11:30:55.007 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 11:30:55.053 +03:00 [DBG] Connection id "0HML87P07OIFV" stopped.
2022-10-07 11:30:55.058 +03:00 [DBG] Connection id "0HML87P07OIFV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 11:30:58.838 +03:00 [DBG] Connection id "0HML87P07OIG0" accepted.
2022-10-07 11:30:58.838 +03:00 [DBG] Connection id "0HML87P07OIG0" received FIN.
2022-10-07 11:30:58.840 +03:00 [DBG] Connection id "0HML87P07OIG0" started.
2022-10-07 11:30:58.848 +03:00 [DBG] Connection id "0HML87P07OIG1" accepted.
2022-10-07 11:30:58.851 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 11:30:58.853 +03:00 [DBG] Connection id "0HML87P07OIG1" started.
2022-10-07 11:30:58.857 +03:00 [DBG] Connection id "0HML87P07OIG0" stopped.
2022-10-07 11:30:58.860 +03:00 [DBG] Connection id "0HML87P07OIG0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 11:30:58.921 +03:00 [DBG] Connection 0HML87P07OIG1 established using the following protocol: "Tls12"
2022-10-07 11:30:58.973 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - -
2022-10-07 11:30:58.992 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 11:30:59.040 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 11:30:59.079 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-10-07 11:30:59.088 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-10-07 11:30:59.091 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 11:30:59.096 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 11:30:59.142 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 11:30:59.148 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 11:30:59.151 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 11:30:59.154 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 11:30:59.156 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 11:30:59.157 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 11:30:59.160 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 11:30:59.173 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 6.3929ms
2022-10-07 11:30:59.178 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 11:30:59.181 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Services.CityInfoRepository' while attempting to activate 'CityInfo.API.Controllers.PointsOfInterestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-07 11:30:59.207 +03:00 [DBG] Connection id "0HML87P07OIG1" completed keep alive response.
2022-10-07 11:30:59.212 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 242.9193ms
2022-10-07 11:31:36.715 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - -
2022-10-07 11:31:36.718 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 11:31:36.720 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2022-10-07 11:31:36.721 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2022-10-07 11:31:36.723 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 11:31:36.724 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 11:31:36.728 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 11:31:36.731 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 11:31:36.733 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 11:31:36.736 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 11:31:36.738 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 11:31:36.739 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 11:31:36.741 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 11:31:36.943 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 11:31:37.189 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 11:31:37.208 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 11:31:37.212 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 11:31:37.215 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 11:31:37.217 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 11:31:37.219 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 11:31:37.225 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 11:31:37.229 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 11:31:37.233 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 11:31:37.236 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 11:31:37.238 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 11:31:37.240 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 11:31:37.241 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 11:31:38.370 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 11:31:38.509 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 11:31:38.654 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 11:31:39.116 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 11:31:39.208 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 11:31:39.444 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (227ms).
2022-10-07 11:31:39.472 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 11:31:39.502 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 11:31:39.527 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 11:31:39.572 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 11:31:39.604 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 11:31:39.641 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 11:31:39.689 +03:00 [DBG] A data reader was disposed.
2022-10-07 11:31:39.702 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 11:31:39.711 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 11:31:39.729 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 11:31:39.735 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 11:31:39.737 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 11:31:39.739 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 11:31:39.740 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 11:31:39.742 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 11:31:39.952 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3211.8712ms
2022-10-07 11:31:39.956 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 11:31:39.957 +03:00 [DBG] Connection id "0HML87P07OIG1" completed keep alive response.
2022-10-07 11:31:39.967 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 11:31:39.975 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - - - 200 172 application/json;+charset=utf-8 3259.9959ms
2022-10-07 11:31:47.183 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/ - -
2022-10-07 11:31:47.185 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 11:31:47.187 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2022-10-07 11:31:47.188 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2022-10-07 11:31:47.190 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-10-07 11:31:47.191 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-10-07 11:31:47.196 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 11:31:47.198 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 11:31:47.200 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 11:31:47.202 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 11:31:47.204 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 11:31:47.205 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 11:31:47.208 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 11:31:47.210 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 11:31:47.244 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 11:31:47.256 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2022-10-07 11:31:47.261 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 11:31:47.264 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 11:31:47.265 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 11:31:47.267 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 11:31:47.268 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 11:31:47.271 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 11:31:47.272 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 11:31:47.274 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 11:31:47.276 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 11:31:47.277 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 11:31:47.278 +03:00 [DBG] A data reader was disposed.
2022-10-07 11:31:47.279 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 11:31:47.281 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 11:31:47.291 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 11:31:47.298 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-10-07 11:31:47.299 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 11:31:47.302 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPOIsDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-07 11:31:47.306 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 98.038ms
2022-10-07 11:31:47.308 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-10-07 11:31:47.309 +03:00 [DBG] Connection id "0HML87P07OIG1" completed keep alive response.
2022-10-07 11:31:47.311 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 11:31:47.313 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/ - - - 200 222 application/json;+charset=utf-8 129.7643ms
2022-10-07 11:31:56.326 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - -
2022-10-07 11:31:56.328 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 11:31:56.329 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-10-07 11:31:56.330 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-10-07 11:31:56.332 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 11:31:56.334 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 11:31:56.336 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 11:31:56.338 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 11:31:56.340 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 11:31:56.341 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 11:31:56.343 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 11:31:56.345 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 11:31:56.347 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 11:31:56.350 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 2.5588ms
2022-10-07 11:31:56.352 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 11:31:56.355 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Services.CityInfoRepository' while attempting to activate 'CityInfo.API.Controllers.PointsOfInterestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-07 11:31:56.364 +03:00 [DBG] Connection id "0HML87P07OIG1" completed keep alive response.
2022-10-07 11:31:56.365 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 39.0520ms
2022-10-07 12:46:40.534 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 12:46:40.667 +03:00 [DBG] Hosting starting
2022-10-07 12:46:40.857 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 12:46:40.910 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 12:46:40.911 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 12:46:40.912 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 12:46:40.914 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 12:46:40.915 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 12:46:40.916 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 12:46:40.918 +03:00 [INF] Hosting environment: Development
2022-10-07 12:46:40.919 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 12:46:40.920 +03:00 [DBG] Hosting started
2022-10-07 12:46:41.363 +03:00 [DBG] Connection id "0HML893B5IDKT" received FIN.
2022-10-07 12:46:41.375 +03:00 [DBG] Connection id "0HML893B5IDKT" accepted.
2022-10-07 12:46:41.378 +03:00 [DBG] Connection id "0HML893B5IDKT" started.
2022-10-07 12:46:41.402 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 12:46:41.452 +03:00 [DBG] Connection id "0HML893B5IDKT" stopped.
2022-10-07 12:46:41.458 +03:00 [DBG] Connection id "0HML893B5IDKT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 12:46:44.729 +03:00 [DBG] Connection id "0HML893B5IDKU" accepted.
2022-10-07 12:46:44.730 +03:00 [DBG] Connection id "0HML893B5IDKU" received FIN.
2022-10-07 12:46:44.732 +03:00 [DBG] Connection id "0HML893B5IDKU" started.
2022-10-07 12:46:44.740 +03:00 [DBG] Connection id "0HML893B5IDKV" accepted.
2022-10-07 12:46:44.742 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 12:46:44.742 +03:00 [DBG] Connection id "0HML893B5IDKV" started.
2022-10-07 12:46:44.750 +03:00 [DBG] Connection id "0HML893B5IDKU" stopped.
2022-10-07 12:46:44.753 +03:00 [DBG] Connection id "0HML893B5IDKU" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 12:46:44.810 +03:00 [DBG] Connection 0HML893B5IDKV established using the following protocol: "Tls12"
2022-10-07 12:46:44.864 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - -
2022-10-07 12:46:44.883 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 12:46:44.950 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 12:46:44.997 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-10-07 12:46:45.005 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-10-07 12:46:45.009 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 12:46:45.015 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 12:46:45.049 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 12:46:45.055 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 12:46:45.056 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 12:46:45.058 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 12:46:45.060 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 12:46:45.062 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 12:46:45.066 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:46:45.076 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 4.2797ms
2022-10-07 12:46:45.082 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 12:46:45.085 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Services.CityInfoRepository' while attempting to activate 'CityInfo.API.Controllers.PointsOfInterestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-07 12:46:45.109 +03:00 [DBG] Connection id "0HML893B5IDKV" completed keep alive response.
2022-10-07 12:46:45.112 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 252.8529ms
2022-10-07 12:46:57.772 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - -
2022-10-07 12:46:57.774 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 12:46:57.776 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2022-10-07 12:46:57.778 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2022-10-07 12:46:57.780 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 12:46:57.782 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 12:46:57.788 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 12:46:57.791 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 12:46:57.793 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 12:46:57.795 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 12:46:57.797 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 12:46:57.800 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 12:46:57.803 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 12:46:57.998 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 12:46:58.266 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 12:46:58.275 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 12:46:58.278 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 12:46:58.283 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 12:46:58.284 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 12:46:58.286 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 12:46:58.290 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 12:46:58.294 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 12:46:58.297 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 12:46:58.300 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 12:46:58.301 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 12:46:58.302 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 12:46:58.304 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 12:46:59.442 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 12:46:59.568 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 12:46:59.695 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 12:47:00.244 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 12:47:00.317 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:47:00.429 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (107ms).
2022-10-07 12:47:00.447 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:47:00.479 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:47:00.507 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 12:47:00.542 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 12:47:00.590 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:47:00.645 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:47:00.678 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:47:00.691 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:47:00.701 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:47:00.726 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 12:47:00.733 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 12:47:00.734 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 12:47:00.735 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 12:47:00.737 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 12:47:00.739 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 12:47:00.956 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3152.9427ms
2022-10-07 12:47:00.958 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 12:47:00.960 +03:00 [DBG] Connection id "0HML893B5IDKV" completed keep alive response.
2022-10-07 12:47:00.968 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 12:47:00.974 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - - - 200 172 application/json;+charset=utf-8 3202.4470ms
2022-10-07 12:47:08.046 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - -
2022-10-07 12:47:08.054 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 12:47:08.055 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-10-07 12:47:08.056 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-10-07 12:47:08.058 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 12:47:08.060 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 12:47:08.061 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 12:47:08.063 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 12:47:08.065 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 12:47:08.066 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 12:47:08.068 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 12:47:08.069 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 12:47:08.071 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:47:08.075 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 3.1247ms
2022-10-07 12:47:08.077 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 12:47:08.078 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Services.CityInfoRepository' while attempting to activate 'CityInfo.API.Controllers.PointsOfInterestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-07 12:47:08.090 +03:00 [DBG] Connection id "0HML893B5IDKV" completed keep alive response.
2022-10-07 12:47:08.092 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 45.6964ms
2022-10-07 12:47:15.348 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest/11 - -
2022-10-07 12:47:15.350 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 12:47:15.351 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/11'
2022-10-07 12:47:15.352 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiid}' is valid for the request path '/api/cities/1/pointsofinterest/11'
2022-10-07 12:47:15.355 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 12:47:15.357 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 12:47:15.362 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 12:47:15.366 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 12:47:15.368 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 12:47:15.369 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 12:47:15.372 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 12:47:15.374 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 12:47:15.376 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:47:15.378 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 2.7476ms
2022-10-07 12:47:15.380 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 12:47:15.382 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Services.CityInfoRepository' while attempting to activate 'CityInfo.API.Controllers.PointsOfInterestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method119(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-07 12:47:15.391 +03:00 [DBG] Connection id "0HML893B5IDKV" completed keep alive response.
2022-10-07 12:47:15.392 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest/11 - - - 500 - text/plain;+charset=utf-8 44.2547ms
2022-10-07 12:51:14.378 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 12:51:14.518 +03:00 [DBG] Hosting starting
2022-10-07 12:51:14.699 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 12:51:14.777 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 12:51:14.779 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 12:51:14.780 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 12:51:14.781 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 12:51:14.783 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 12:51:14.784 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 12:51:14.787 +03:00 [INF] Hosting environment: Development
2022-10-07 12:51:14.788 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 12:51:14.789 +03:00 [DBG] Hosting started
2022-10-07 12:51:14.938 +03:00 [DBG] Connection id "0HML895SMFGFR" received FIN.
2022-10-07 12:51:14.939 +03:00 [DBG] Connection id "0HML895SMFGFQ" accepted.
2022-10-07 12:51:14.940 +03:00 [DBG] Connection id "0HML895SMFGFR" accepted.
2022-10-07 12:51:14.941 +03:00 [DBG] Connection id "0HML895SMFGFQ" received FIN.
2022-10-07 12:51:14.942 +03:00 [DBG] Connection id "0HML895SMFGFQ" started.
2022-10-07 12:51:14.942 +03:00 [DBG] Connection id "0HML895SMFGFR" started.
2022-10-07 12:51:14.967 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 12:51:14.967 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 12:51:15.015 +03:00 [DBG] Connection id "0HML895SMFGFR" stopped.
2022-10-07 12:51:15.015 +03:00 [DBG] Connection id "0HML895SMFGFQ" stopped.
2022-10-07 12:51:15.020 +03:00 [DBG] Connection id "0HML895SMFGFR" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 12:51:15.020 +03:00 [DBG] Connection id "0HML895SMFGFQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 12:51:16.657 +03:00 [DBG] Connection id "0HML895SMFGFS" accepted.
2022-10-07 12:51:16.658 +03:00 [DBG] Connection id "0HML895SMFGFS" received FIN.
2022-10-07 12:51:16.658 +03:00 [DBG] Connection id "0HML895SMFGFS" started.
2022-10-07 12:51:16.661 +03:00 [DBG] Connection id "0HML895SMFGFT" accepted.
2022-10-07 12:51:16.662 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 12:51:16.662 +03:00 [DBG] Connection id "0HML895SMFGFT" started.
2022-10-07 12:51:16.666 +03:00 [DBG] Connection id "0HML895SMFGFS" stopped.
2022-10-07 12:51:16.667 +03:00 [DBG] Connection id "0HML895SMFGFS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 12:51:16.725 +03:00 [DBG] Connection 0HML895SMFGFT established using the following protocol: "Tls12"
2022-10-07 12:51:16.787 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest/11 - -
2022-10-07 12:51:16.804 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 12:51:16.857 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 12:51:16.894 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/11'
2022-10-07 12:51:16.900 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiid}' is valid for the request path '/api/cities/1/pointsofinterest/11'
2022-10-07 12:51:16.904 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 12:51:16.909 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 12:51:16.954 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 12:51:16.958 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 12:51:16.960 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 12:51:16.962 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 12:51:16.965 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 12:51:16.967 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 12:51:16.971 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:51:17.168 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 12:51:17.393 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:51:17.402 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 12:51:17.408 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 12:51:17.411 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:17.413 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:17.415 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 12:51:17.421 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:17.426 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 12:51:17.428 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 12:51:17.430 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 12:51:17.432 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 12:51:17.434 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 12:51:17.438 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 12:51:18.661 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 12:51:18.720 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2022-10-07 12:51:19.038 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 12:51:19.112 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:51:19.210 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (95ms).
2022-10-07 12:51:19.231 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:19.261 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:19.280 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 12:51:19.312 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 12:51:19.349 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:19.379 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:19.381 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:19.392 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:51:19.402 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:19.410 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:19.439 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0 && x.Id == __poiId_1)
    .FirstOrDefault()'
2022-10-07 12:51:19.661 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(150), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__poiId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 12:51:19.687 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:51:19.689 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 12:51:19.695 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:19.697 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:19.707 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 12:51:19.718 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 12:51:19.726 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:19.771 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:51:19.772 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:19.774 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:19.791 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 12:51:19.798 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 12:51:19.799 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 12:51:19.800 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 12:51:19.803 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 12:51:19.805 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2022-10-07 12:51:20.002 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 3025.7064ms
2022-10-07 12:51:20.006 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 12:51:20.008 +03:00 [DBG] Connection id "0HML895SMFGFT" completed keep alive response.
2022-10-07 12:51:20.020 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 12:51:20.029 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest/11 - - - 200 77 application/json;+charset=utf-8 3248.3106ms
2022-10-07 12:51:29.976 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest/115 - -
2022-10-07 12:51:29.977 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 12:51:29.980 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/115'
2022-10-07 12:51:29.982 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiid}' is valid for the request path '/api/cities/1/pointsofinterest/115'
2022-10-07 12:51:29.984 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 12:51:29.987 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 12:51:29.989 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 12:51:29.991 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 12:51:29.993 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 12:51:29.994 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 12:51:29.996 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 12:51:29.997 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 12:51:29.998 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:51:30.000 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:51:30.002 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 12:51:30.004 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 12:51:30.006 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:30.007 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:30.008 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 12:51:30.009 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:30.011 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 12:51:30.012 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 12:51:30.013 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 12:51:30.014 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 12:51:30.016 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 12:51:30.017 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 12:51:30.021 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 12:51:30.023 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:51:30.025 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 12:51:30.026 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:30.027 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:30.028 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 12:51:30.031 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 12:51:30.033 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:30.034 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:30.037 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:30.038 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:51:30.039 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:30.041 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:30.047 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:51:30.049 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 12:51:30.050 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:30.053 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:30.054 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 12:51:30.057 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 12:51:30.059 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:51:30.060 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:30.061 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:30.065 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 12:51:30.069 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 12:51:30.071 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2022-10-07 12:51:30.073 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-10-07 12:51:30.074 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-10-07 12:51:30.108 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 109.2138ms
2022-10-07 12:51:30.110 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 12:51:30.111 +03:00 [DBG] Connection id "0HML895SMFGFT" completed keep alive response.
2022-10-07 12:51:30.112 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 12:51:30.114 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest/115 - - - 404 161 application/problem+json;+charset=utf-8 137.6979ms
2022-10-07 12:51:35.660 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - -
2022-10-07 12:51:35.662 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 12:51:35.664 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-10-07 12:51:35.665 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-10-07 12:51:35.669 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 12:51:35.671 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 12:51:35.678 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 12:51:35.681 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 12:51:35.682 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 12:51:35.684 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 12:51:35.688 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 12:51:35.690 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 12:51:35.691 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:51:35.696 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:51:35.697 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 12:51:35.699 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 12:51:35.702 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:35.703 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:35.704 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 12:51:35.706 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:35.776 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 12:51:35.782 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:51:35.783 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 12:51:35.784 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:35.786 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:35.788 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 12:51:35.791 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 12:51:35.793 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:35.794 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:35.795 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:35.796 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:51:35.797 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:35.798 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:35.802 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0)'
2022-10-07 12:51:35.807 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(150), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 12:51:35.811 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:51:35.812 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 12:51:35.813 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:35.814 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:35.815 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-10-07 12:51:35.817 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-10-07 12:51:35.821 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:35.823 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:35.824 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:51:35.825 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:35.827 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:35.853 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 12:51:35.856 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 12:51:35.857 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 12:51:35.858 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 12:51:35.859 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 12:51:35.860 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-07 12:51:35.873 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 181.8822ms
2022-10-07 12:51:35.876 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 12:51:35.878 +03:00 [DBG] Connection id "0HML895SMFGFT" completed keep alive response.
2022-10-07 12:51:35.879 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 12:51:35.880 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - - - 200 126 application/json;+charset=utf-8 220.0683ms
2022-10-07 12:51:42.901 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/3/pointsofinterest - -
2022-10-07 12:51:42.902 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 12:51:42.903 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-10-07 12:51:42.905 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-10-07 12:51:42.908 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 12:51:42.909 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 12:51:42.911 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 12:51:42.913 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 12:51:42.915 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 12:51:42.916 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 12:51:42.919 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 12:51:42.920 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 12:51:42.922 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:51:42.924 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:51:42.926 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 12:51:42.927 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 12:51:42.928 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:42.930 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:42.931 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 12:51:42.932 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:42.934 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 12:51:42.937 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:51:42.939 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 12:51:42.941 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:42.942 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:42.943 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 12:51:42.945 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 12:51:42.948 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:42.949 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:42.951 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:42.954 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:51:42.955 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:42.957 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:42.959 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:51:42.960 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 12:51:42.962 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:42.963 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:42.965 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-10-07 12:51:42.967 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-10-07 12:51:42.972 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:42.974 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:51:42.975 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:42.977 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:42.978 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 12:51:42.981 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 12:51:42.982 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 12:51:42.984 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 12:51:42.985 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 12:51:42.987 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-07 12:51:42.990 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 67.5632ms
2022-10-07 12:51:42.992 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 12:51:42.993 +03:00 [DBG] Connection id "0HML895SMFGFT" completed keep alive response.
2022-10-07 12:51:42.995 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 12:51:42.997 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/3/pointsofinterest - - - 200 50 application/json;+charset=utf-8 96.0697ms
2022-10-07 12:51:57.865 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/3/pointsofinterest/31 - -
2022-10-07 12:51:57.867 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 12:51:57.871 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/31'
2022-10-07 12:51:57.875 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiid}' is valid for the request path '/api/cities/3/pointsofinterest/31'
2022-10-07 12:51:57.882 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 12:51:57.885 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 12:51:57.888 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 12:51:57.893 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 12:51:57.895 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 12:51:57.897 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 12:51:57.900 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 12:51:57.902 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 12:51:57.904 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:51:57.906 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 12:51:57.907 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 12:51:57.908 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 12:51:57.910 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:57.911 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:57.912 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 12:51:57.913 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 12:51:57.914 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 12:51:57.915 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 12:51:57.916 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 12:51:57.918 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 12:51:57.919 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 12:51:57.921 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 12:51:57.923 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 12:51:57.924 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:51:57.925 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 12:51:57.926 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:57.928 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:57.929 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 12:51:57.931 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 12:51:57.932 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:57.934 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:57.935 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:57.938 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:51:57.939 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:57.940 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:57.941 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:51:57.942 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 12:51:57.943 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:57.944 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:57.945 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 12:51:57.947 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 12:51:57.949 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:51:57.951 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:51:57.951 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:51:57.954 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:51:57.955 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 12:51:57.959 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 12:51:57.959 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 12:51:57.960 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 12:51:57.961 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 12:51:57.963 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2022-10-07 12:51:57.965 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 60.6173ms
2022-10-07 12:51:57.966 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 12:51:57.967 +03:00 [DBG] Connection id "0HML895SMFGFT" completed keep alive response.
2022-10-07 12:51:57.970 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 12:51:57.972 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/3/pointsofinterest/31 - - - 200 48 application/json;+charset=utf-8 106.7677ms
2022-10-07 12:52:06.537 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - -
2022-10-07 12:52:06.539 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 12:52:06.541 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2022-10-07 12:52:06.542 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2022-10-07 12:52:06.545 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 12:52:06.547 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 12:52:06.554 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 12:52:06.558 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 12:52:06.559 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 12:52:06.561 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 12:52:06.565 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 12:52:06.566 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 12:52:06.570 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 12:52:06.573 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 12:52:06.582 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 12:52:06.584 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 12:52:06.587 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 12:52:06.588 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 12:52:06.589 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 12:52:06.590 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 12:52:06.591 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 12:52:06.594 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 12:52:06.596 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 12:52:06.597 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 12:52:06.599 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 12:52:06.600 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 12:52:06.606 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 12:52:06.618 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 12:52:06.650 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 12:52:06.771 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 12:52:06.781 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:52:06.784 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-10-07 12:52:06.786 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:52:06.788 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:52:06.790 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 12:52:06.793 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 12:52:06.796 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:52:06.805 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:52:06.808 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:52:06.809 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:52:06.810 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:52:06.816 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 12:52:06.819 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 12:52:06.820 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 12:52:06.822 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 12:52:06.823 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 12:52:06.825 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 12:52:06.836 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 268.3739ms
2022-10-07 12:52:06.839 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 12:52:06.841 +03:00 [DBG] Connection id "0HML895SMFGFT" completed keep alive response.
2022-10-07 12:52:06.843 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 12:52:06.845 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - - - 200 172 application/json;+charset=utf-8 307.4556ms
2022-10-07 12:52:12.167 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=false - -
2022-10-07 12:52:12.168 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 12:52:12.171 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2022-10-07 12:52:12.172 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2022-10-07 12:52:12.175 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 12:52:12.177 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 12:52:12.179 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 12:52:12.182 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 12:52:12.184 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 12:52:12.186 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 12:52:12.191 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 12:52:12.193 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 12:52:12.195 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 12:52:12.197 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 12:52:12.199 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 12:52:12.201 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 12:52:12.203 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 12:52:12.206 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 12:52:12.207 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 12:52:12.209 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 12:52:12.210 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 12:52:12.211 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 12:52:12.213 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 12:52:12.214 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 12:52:12.215 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 12:52:12.216 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 12:52:12.218 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 12:52:12.222 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-10-07 12:52:12.229 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 12:52:12.233 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 12:52:12.234 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 12:52:12.237 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:52:12.239 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:52:12.241 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 12:52:12.245 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 12:52:12.248 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 12:52:12.249 +03:00 [DBG] A data reader was disposed.
2022-10-07 12:52:12.250 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 12:52:12.251 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 12:52:12.256 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 12:52:12.260 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 12:52:12.260 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 12:52:12.261 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 12:52:12.262 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 12:52:12.264 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPOIsDTO'.
2022-10-07 12:52:12.267 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 71.2138ms
2022-10-07 12:52:12.268 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 12:52:12.270 +03:00 [DBG] Connection id "0HML895SMFGFT" completed keep alive response.
2022-10-07 12:52:12.272 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 12:52:12.273 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=false - - - 200 73 application/json;+charset=utf-8 106.0329ms
2022-10-07 15:02:27.454 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 15:02:27.598 +03:00 [DBG] Hosting starting
2022-10-07 15:02:27.784 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 15:02:27.857 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 15:02:27.861 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 15:02:27.862 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 15:02:27.863 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 15:02:27.865 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 15:02:27.866 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 15:02:27.867 +03:00 [INF] Hosting environment: Development
2022-10-07 15:02:27.869 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 15:02:27.869 +03:00 [DBG] Hosting started
2022-10-07 15:02:28.215 +03:00 [DBG] Connection id "0HML8BF740EBI" received FIN.
2022-10-07 15:02:28.231 +03:00 [DBG] Connection id "0HML8BF740EBI" accepted.
2022-10-07 15:02:28.233 +03:00 [DBG] Connection id "0HML8BF740EBI" started.
2022-10-07 15:02:28.260 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 15:02:28.312 +03:00 [DBG] Connection id "0HML8BF740EBI" stopped.
2022-10-07 15:02:28.318 +03:00 [DBG] Connection id "0HML8BF740EBI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 15:02:33.536 +03:00 [DBG] Connection id "0HML8BF740EBJ" accepted.
2022-10-07 15:02:33.536 +03:00 [DBG] Connection id "0HML8BF740EBJ" received FIN.
2022-10-07 15:02:33.538 +03:00 [DBG] Connection id "0HML8BF740EBJ" started.
2022-10-07 15:02:33.546 +03:00 [DBG] Connection id "0HML8BF740EBK" accepted.
2022-10-07 15:02:33.549 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 15:02:33.550 +03:00 [DBG] Connection id "0HML8BF740EBK" started.
2022-10-07 15:02:33.555 +03:00 [DBG] Connection id "0HML8BF740EBJ" stopped.
2022-10-07 15:02:33.558 +03:00 [DBG] Connection id "0HML8BF740EBJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 15:02:33.614 +03:00 [DBG] Connection 0HML8BF740EBK established using the following protocol: "Tls12"
2022-10-07 15:02:33.667 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7198/api/cities/1/pointsofinterest/ application/json 93
2022-10-07 15:02:33.687 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 15:02:33.719 +03:00 [DBG] POST requests are not supported
2022-10-07 15:02:33.761 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/'
2022-10-07 15:02:33.768 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest/'
2022-10-07 15:02:33.772 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 15:02:33.777 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 15:02:33.816 +03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 15:02:33.822 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 15:02:33.824 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 15:02:33.825 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 15:02:33.828 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 15:02:33.829 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 15:02:33.832 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 15:02:34.022 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 15:02:34.324 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 15:02:34.336 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 15:02:34.344 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 15:02:34.347 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 15:02:34.349 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 15:02:34.351 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 15:02:34.355 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 15:02:34.363 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2022-10-07 15:02:34.367 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2022-10-07 15:02:34.370 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-10-07 15:02:34.376 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-10-07 15:02:34.393 +03:00 [DBG] Connection id "0HML8BF740EBK", Request id "0HML8BF740EBK:00000002": started reading request body.
2022-10-07 15:02:34.395 +03:00 [DBG] Connection id "0HML8BF740EBK", Request id "0HML8BF740EBK:00000002": done reading request body.
2022-10-07 15:02:34.618 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 15:02:34.621 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 15:02:34.624 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2022-10-07 15:02:34.634 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 15:02:35.882 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 15:02:36.011 +03:00 [DBG] Connection id "0HML8BF740EBK" received FIN.
2022-10-07 15:02:36.014 +03:00 [DBG] Connection id "0HML8BF740EBK" sending FIN because: "The client closed the connection."
2022-10-07 15:02:36.016 +03:00 [DBG] Connection id "0HML8BF740EBK" disconnecting.
2022-10-07 15:02:36.018 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 15:02:36.174 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 15:02:36.640 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 15:02:36.739 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:02:36.988 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (247ms).
2022-10-07 15:02:37.009 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:37.041 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:37.065 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 15:02:37.108 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 15:02:37.140 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:37.189 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:37.210 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:37.221 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:02:37.234 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:37.246 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:37.265 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-10-07 15:02:37.274 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 15:02:37.281 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:02:37.283 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 15:02:37.284 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:37.286 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:37.288 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 15:02:37.291 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 15:02:37.300 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:02:37.301 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:37.303 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:37.313 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-10-07 15:02:37.317 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-10-07 15:02:37.345 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:37.398 +03:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:37.418 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:37.428 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-10-07 15:02:37.461 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:37.463 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:37.469 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-07 15:02:37.477 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-10-07 15:02:37.557 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:02:37.558 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 15:02:37.561 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 43), @p2='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-10-07 15:02:37.569 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 43), @p2='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-10-07 15:02:37.610 +03:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-07 15:02:37.626 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:02:37.636 +03:00 [DBG] Committing transaction.
2022-10-07 15:02:37.644 +03:00 [DBG] Committed transaction.
2022-10-07 15:02:37.656 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:37.659 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:37.668 +03:00 [DBG] Disposing transaction.
2022-10-07 15:02:37.683 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:37.692 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-10-07 15:02:37.700 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 15:02:37.708 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 15:02:37.709 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 15:02:37.711 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 15:02:37.713 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 15:02:37.718 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2022-10-07 15:02:37.744 +03:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-10-07 15:02:37.759 +03:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{poiid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/1/pointsofinterest/32 and 
2022-10-07 15:02:37.762 +03:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/1/pointsofinterest/32
2022-10-07 15:02:37.837 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 4000.0891ms
2022-10-07 15:02:37.841 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 15:02:37.850 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 15:02:37.856 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7198/api/cities/1/pointsofinterest/ application/json 93 - 201 88 application/json;+charset=utf-8 4193.4219ms
2022-10-07 15:02:37.859 +03:00 [DBG] Connection id "0HML8BF740EBK" stopped.
2022-10-07 15:02:42.082 +03:00 [DBG] Connection id "0HML8BF740EBL" accepted.
2022-10-07 15:02:42.083 +03:00 [DBG] Connection id "0HML8BF740EBL" received FIN.
2022-10-07 15:02:42.084 +03:00 [DBG] Connection id "0HML8BF740EBL" started.
2022-10-07 15:02:42.085 +03:00 [DBG] Connection id "0HML8BF740EBM" accepted.
2022-10-07 15:02:42.089 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 15:02:42.090 +03:00 [DBG] Connection id "0HML8BF740EBM" started.
2022-10-07 15:02:42.099 +03:00 [DBG] Connection id "0HML8BF740EBL" stopped.
2022-10-07 15:02:42.104 +03:00 [DBG] Connection id "0HML8BF740EBL" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 15:02:42.109 +03:00 [DBG] Connection 0HML8BF740EBM established using the following protocol: "Tls12"
2022-10-07 15:02:42.114 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7198/api/cities/1/pointsofinterest/ application/json 93
2022-10-07 15:02:42.115 +03:00 [DBG] POST requests are not supported
2022-10-07 15:02:42.118 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/'
2022-10-07 15:02:42.119 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest/'
2022-10-07 15:02:42.123 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 15:02:42.128 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 15:02:42.130 +03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 15:02:42.135 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 15:02:42.138 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 15:02:42.142 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 15:02:42.145 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 15:02:42.146 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 15:02:42.148 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 15:02:42.151 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 15:02:42.152 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 15:02:42.154 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 15:02:42.158 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 15:02:42.159 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 15:02:42.161 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 15:02:42.162 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 15:02:42.164 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2022-10-07 15:02:42.166 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2022-10-07 15:02:42.168 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-10-07 15:02:42.169 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-10-07 15:02:42.176 +03:00 [DBG] Connection id "0HML8BF740EBM", Request id "0HML8BF740EBM:00000002": started reading request body.
2022-10-07 15:02:42.178 +03:00 [DBG] Connection id "0HML8BF740EBM", Request id "0HML8BF740EBM:00000002": done reading request body.
2022-10-07 15:02:42.179 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 15:02:42.181 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 15:02:42.182 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2022-10-07 15:02:42.184 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 15:02:42.188 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 15:02:42.197 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:02:42.199 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 15:02:42.200 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:42.201 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:42.206 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 15:02:42.208 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 15:02:42.211 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:42.212 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:42.214 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:42.215 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:42.217 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:02:42.223 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:42.226 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:42.228 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:02:42.229 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 15:02:42.231 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:42.232 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:42.233 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 15:02:42.242 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 15:02:42.246 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:02:42.247 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:42.250 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:42.253 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-10-07 15:02:42.255 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-10-07 15:02:42.257 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:42.259 +03:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:42.261 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:42.263 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-10-07 15:02:42.264 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:42.266 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:42.271 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-07 15:02:42.275 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-10-07 15:02:42.276 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:02:42.277 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 15:02:42.279 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 43), @p2='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-10-07 15:02:42.285 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 43), @p2='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-10-07 15:02:42.291 +03:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-07 15:02:42.293 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:02:42.294 +03:00 [DBG] Committing transaction.
2022-10-07 15:02:42.298 +03:00 [DBG] Committed transaction.
2022-10-07 15:02:42.301 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:42.304 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:42.306 +03:00 [DBG] Disposing transaction.
2022-10-07 15:02:42.308 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:42.310 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-10-07 15:02:42.313 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 15:02:42.322 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 15:02:42.324 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 15:02:42.327 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 15:02:42.331 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 15:02:42.334 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2022-10-07 15:02:42.337 +03:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-10-07 15:02:42.342 +03:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{poiid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/1/pointsofinterest/33 and 
2022-10-07 15:02:42.348 +03:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/1/pointsofinterest/33
2022-10-07 15:02:42.356 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 207.4546ms
2022-10-07 15:02:42.358 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 15:02:42.360 +03:00 [DBG] Connection id "0HML8BF740EBM" completed keep alive response.
2022-10-07 15:02:42.364 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 15:02:42.365 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7198/api/cities/1/pointsofinterest/ application/json 93 - 201 88 application/json;+charset=utf-8 251.8429ms
2022-10-07 15:02:50.780 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/ - -
2022-10-07 15:02:50.799 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 15:02:50.800 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2022-10-07 15:02:50.802 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2022-10-07 15:02:50.805 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-10-07 15:02:50.807 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-10-07 15:02:50.813 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 15:02:50.815 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 15:02:50.817 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 15:02:50.818 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 15:02:50.820 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 15:02:50.824 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 15:02:50.830 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 15:02:50.835 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 15:02:50.901 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 15:02:50.906 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2022-10-07 15:02:50.911 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 15:02:50.915 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:02:50.916 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 15:02:50.918 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:50.924 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:50.926 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 15:02:50.928 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 15:02:50.931 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:50.932 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:50.934 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:02:50.940 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:02:50.942 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:02:50.943 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:02:50.959 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 15:02:50.966 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-10-07 15:02:50.969 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 15:02:50.973 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPOIsDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-07 15:02:50.986 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 156.4633ms
2022-10-07 15:02:50.989 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-10-07 15:02:50.991 +03:00 [DBG] Connection id "0HML8BF740EBM" completed keep alive response.
2022-10-07 15:02:50.993 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 15:02:50.994 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/ - - - 200 222 application/json;+charset=utf-8 214.1429ms
2022-10-07 15:03:05.510 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - -
2022-10-07 15:03:05.511 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 15:03:05.513 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-10-07 15:03:05.515 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-10-07 15:03:05.520 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 15:03:05.525 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 15:03:05.536 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 15:03:05.546 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 15:03:05.548 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 15:03:05.550 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 15:03:05.553 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 15:03:05.555 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 15:03:05.558 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 15:03:05.561 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 15:03:05.568 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 15:03:05.570 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 15:03:05.572 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 15:03:05.574 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 15:03:05.577 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 15:03:05.579 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 15:03:05.580 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 15:03:05.583 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 15:03:05.585 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 15:03:05.586 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 15:03:05.589 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 15:03:05.590 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 15:03:05.597 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 15:03:05.599 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:03:05.600 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 15:03:05.601 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:03:05.603 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:03:05.605 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 15:03:05.612 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 15:03:05.616 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:03:05.618 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:03:05.620 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:03:05.627 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:03:05.629 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:03:05.631 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:03:05.632 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:03:05.634 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:03:05.640 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 15:03:05.643 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 15:03:05.644 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 15:03:05.645 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 15:03:05.647 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 15:03:05.648 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 15:03:05.660 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 102.5083ms
2022-10-07 15:03:05.663 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 15:03:05.666 +03:00 [DBG] Connection id "0HML8BF740EBM" completed keep alive response.
2022-10-07 15:03:05.668 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 15:03:05.669 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - - - 200 425 application/json;+charset=utf-8 159.1923ms
2022-10-07 15:06:39.105 +03:00 [DBG] Connection id "0HML8BF740EBN" accepted.
2022-10-07 15:06:39.107 +03:00 [DBG] Connection id "0HML8BF740EBN" started.
2022-10-07 15:06:39.126 +03:00 [DBG] Connection 0HML8BF740EBN established using the following protocol: "Tls12"
2022-10-07 15:06:39.174 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7198/api/cities/1/pointsofinterest/33 - -
2022-10-07 15:06:39.205 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 15:06:39.206 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/33'
2022-10-07 15:06:39.207 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiid}' is valid for the request path '/api/cities/1/pointsofinterest/33'
2022-10-07 15:06:39.211 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 15:06:39.213 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 15:06:39.219 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 15:06:39.223 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 15:06:39.225 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 15:06:39.227 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 15:06:39.231 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 15:06:39.235 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 15:06:39.237 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 15:06:39.240 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 15:06:39.242 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 15:06:39.244 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 15:06:39.246 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 15:06:39.251 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 15:06:39.252 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 15:06:39.254 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 15:06:39.255 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 15:06:39.257 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 15:06:39.259 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 15:06:39.261 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 15:06:39.263 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 15:06:39.267 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 15:06:39.272 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 15:06:39.274 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:06:39.276 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 15:06:39.277 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:06:39.279 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:06:39.283 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 15:06:39.285 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 15:06:39.288 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:06:39.290 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:06:39.292 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:06:39.294 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:06:39.298 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:06:39.301 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:06:39.306 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0 && x.Id == __poiId_1)
    .FirstOrDefault()'
2022-10-07 15:06:39.315 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(150), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__poiId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 15:06:39.321 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:06:39.322 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 15:06:39.324 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:06:39.326 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:06:39.334 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 15:06:39.339 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 15:06:39.348 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:06:39.351 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:06:39.352 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:06:39.356 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:06:39.358 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 15:06:39.366 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 15:06:39.367 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 15:06:39.369 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 15:06:39.370 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 15:06:39.372 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2022-10-07 15:06:39.406 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 168.5197ms
2022-10-07 15:06:39.410 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-10-07 15:06:39.423 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 15:06:39.426 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7198/api/cities/1/pointsofinterest/33 - - - 200 88 application/json;+charset=utf-8 251.5777ms
2022-10-07 15:06:39.545 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7198/favicon.ico - -
2022-10-07 15:06:39.547 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 15:06:39.549 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2022-10-07 15:06:39.551 +03:00 [DBG] Request did not match any endpoints
2022-10-07 15:06:39.553 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7198/favicon.ico - - - 404 0 - 7.2638ms
2022-10-07 15:33:07.359 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 15:33:07.519 +03:00 [DBG] Hosting starting
2022-10-07 15:33:07.701 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 15:33:07.751 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 15:33:07.753 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 15:33:07.755 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 15:33:07.756 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 15:33:07.758 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 15:33:07.759 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 15:33:07.760 +03:00 [INF] Hosting environment: Development
2022-10-07 15:33:07.761 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 15:33:07.762 +03:00 [DBG] Hosting started
2022-10-07 15:33:07.845 +03:00 [DBG] Connection id "0HML8C0BBUMT0" received FIN.
2022-10-07 15:33:07.846 +03:00 [DBG] Connection id "0HML8C0BBUMSV" accepted.
2022-10-07 15:33:07.849 +03:00 [DBG] Connection id "0HML8C0BBUMT0" accepted.
2022-10-07 15:33:07.851 +03:00 [DBG] Connection id "0HML8C0BBUMSV" received FIN.
2022-10-07 15:33:07.851 +03:00 [DBG] Connection id "0HML8C0BBUMT0" started.
2022-10-07 15:33:07.851 +03:00 [DBG] Connection id "0HML8C0BBUMSV" started.
2022-10-07 15:33:07.882 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 15:33:07.882 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 15:33:07.933 +03:00 [DBG] Connection id "0HML8C0BBUMT0" stopped.
2022-10-07 15:33:07.933 +03:00 [DBG] Connection id "0HML8C0BBUMSV" stopped.
2022-10-07 15:33:07.938 +03:00 [DBG] Connection id "0HML8C0BBUMT0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 15:33:07.938 +03:00 [DBG] Connection id "0HML8C0BBUMSV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 15:33:57.205 +03:00 [DBG] Connection id "0HML8C0BBUMT1" accepted.
2022-10-07 15:33:57.219 +03:00 [DBG] Connection id "0HML8C0BBUMT1" received FIN.
2022-10-07 15:33:57.233 +03:00 [DBG] Connection id "0HML8C0BBUMT1" started.
2022-10-07 15:33:57.269 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 15:33:57.269 +03:00 [DBG] Connection id "0HML8C0BBUMT2" accepted.
2022-10-07 15:33:57.278 +03:00 [DBG] Connection id "0HML8C0BBUMT1" stopped.
2022-10-07 15:33:57.279 +03:00 [DBG] Connection id "0HML8C0BBUMT2" started.
2022-10-07 15:33:57.281 +03:00 [DBG] Connection id "0HML8C0BBUMT1" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 15:33:57.344 +03:00 [DBG] Connection 0HML8C0BBUMT2 established using the following protocol: "Tls12"
2022-10-07 15:33:57.389 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7198/api/cities/1/pointsofinterest/33 application/json 105
2022-10-07 15:33:57.410 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 15:33:57.437 +03:00 [DBG] PUT requests are not supported
2022-10-07 15:33:57.479 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/33'
2022-10-07 15:33:57.487 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiid}' is valid for the request path '/api/cities/1/pointsofinterest/33'
2022-10-07 15:33:57.495 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2022-10-07 15:33:57.501 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2022-10-07 15:33:57.544 +03:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 15:33:57.549 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 15:33:57.552 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 15:33:57.553 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 15:33:57.556 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 15:33:57.558 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 15:33:57.561 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 15:33:57.755 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 15:33:58.029 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 15:33:58.038 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 15:33:58.042 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 15:33:58.045 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 15:33:58.047 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 15:33:58.048 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 15:33:58.052 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 15:33:58.056 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 15:33:58.062 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 15:33:58.064 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 15:33:58.066 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 15:33:58.067 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 15:33:58.069 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 15:33:58.071 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2022-10-07 15:33:58.078 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2022-10-07 15:33:58.081 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-10-07 15:33:58.083 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-10-07 15:33:58.098 +03:00 [DBG] Connection id "0HML8C0BBUMT2", Request id "0HML8C0BBUMT2:00000002": started reading request body.
2022-10-07 15:33:58.100 +03:00 [DBG] Connection id "0HML8C0BBUMT2", Request id "0HML8C0BBUMT2:00000002": done reading request body.
2022-10-07 15:33:58.294 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2022-10-07 15:33:58.297 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2022-10-07 15:33:58.299 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2022-10-07 15:33:58.311 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2022-10-07 15:33:59.469 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 15:33:59.584 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-10-07 15:34:00.070 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 15:34:00.164 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:34:00.280 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (113ms).
2022-10-07 15:34:00.300 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:34:00.328 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:34:00.349 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 15:34:00.406 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 15:34:00.448 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:34:00.500 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:34:00.517 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:34:00.529 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:34:00.533 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0 && x.Id == __poiId_1)
    .FirstOrDefault()'
2022-10-07 15:34:00.543 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(150), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__poiId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 15:34:00.549 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:34:00.551 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 15:34:00.552 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:34:00.557 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:34:00.559 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 15:34:00.563 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 15:34:00.570 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:34:00.604 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:34:00.605 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:34:00.608 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:34:00.634 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-10-07 15:34:00.640 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-10-07 15:34:00.662 +03:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-07 15:34:00.678 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:34:00.684 +03:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-07 15:34:00.691 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-10-07 15:34:00.728 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:34:00.731 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:34:00.735 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-07 15:34:00.745 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-10-07 15:34:00.806 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:34:00.808 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-10-07 15:34:00.812 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 45), @p1='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-10-07 15:34:00.818 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 45), @p1='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-10-07 15:34:00.831 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:34:00.839 +03:00 [DBG] Committing transaction.
2022-10-07 15:34:00.848 +03:00 [DBG] Committed transaction.
2022-10-07 15:34:00.855 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:34:00.861 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:34:00.867 +03:00 [DBG] Disposing transaction.
2022-10-07 15:34:00.880 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:34:00.888 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-10-07 15:34:00.906 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-10-07 15:34:00.919 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 3349.093ms
2022-10-07 15:34:00.926 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2022-10-07 15:34:00.933 +03:00 [DBG] Connection id "0HML8C0BBUMT2" completed keep alive response.
2022-10-07 15:34:00.945 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 15:34:00.953 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7198/api/cities/1/pointsofinterest/33 application/json 105 - 204 - - 3567.0308ms
2022-10-07 15:34:11.491 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - -
2022-10-07 15:34:11.511 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 15:34:11.513 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-10-07 15:34:11.516 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-10-07 15:34:11.521 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 15:34:11.523 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 15:34:11.533 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 15:34:11.536 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 15:34:11.538 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 15:34:11.544 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 15:34:11.548 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 15:34:11.549 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 15:34:11.552 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 15:34:11.554 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 15:34:11.564 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 15:34:11.566 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 15:34:11.569 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 15:34:11.572 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 15:34:11.575 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 15:34:11.577 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 15:34:11.578 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 15:34:11.581 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 15:34:11.583 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 15:34:11.584 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 15:34:11.590 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 15:34:11.592 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 15:34:11.597 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 15:34:11.610 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 15:34:11.639 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 15:34:11.784 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 15:34:11.794 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 15:34:11.796 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 15:34:11.797 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:34:11.798 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:34:11.801 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 15:34:11.803 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 15:34:11.811 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:34:11.816 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:34:11.818 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:34:11.820 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:34:11.826 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 15:34:11.828 +03:00 [DBG] A data reader was disposed.
2022-10-07 15:34:11.829 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 15:34:11.832 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 15:34:11.840 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 15:34:11.849 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 15:34:11.850 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 15:34:11.853 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 15:34:11.856 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 15:34:11.859 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 15:34:11.948 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 395.9501ms
2022-10-07 15:34:11.949 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 15:34:11.951 +03:00 [DBG] Connection id "0HML8C0BBUMT2" completed keep alive response.
2022-10-07 15:34:11.953 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 15:34:11.954 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - - - 200 437 application/json;+charset=utf-8 463.4970ms
2022-10-07 16:04:07.833 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 16:04:07.979 +03:00 [DBG] Hosting starting
2022-10-07 16:04:08.190 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 16:04:08.243 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 16:04:08.245 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 16:04:08.246 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 16:04:08.247 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 16:04:08.248 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 16:04:08.250 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 16:04:08.251 +03:00 [INF] Hosting environment: Development
2022-10-07 16:04:08.252 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 16:04:08.254 +03:00 [DBG] Hosting started
2022-10-07 16:04:08.301 +03:00 [DBG] Connection id "0HML8CHLQOUJ5" received FIN.
2022-10-07 16:04:08.316 +03:00 [DBG] Connection id "0HML8CHLQOUJ5" accepted.
2022-10-07 16:04:08.319 +03:00 [DBG] Connection id "0HML8CHLQOUJ5" started.
2022-10-07 16:04:08.345 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:04:08.403 +03:00 [DBG] Connection id "0HML8CHLQOUJ5" stopped.
2022-10-07 16:04:08.410 +03:00 [DBG] Connection id "0HML8CHLQOUJ5" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:04:47.935 +03:00 [DBG] Connection id "0HML8CHLQOUJ6" accepted.
2022-10-07 16:04:47.937 +03:00 [DBG] Connection id "0HML8CHLQOUJ6" received FIN.
2022-10-07 16:04:47.948 +03:00 [DBG] Connection id "0HML8CHLQOUJ6" started.
2022-10-07 16:04:47.959 +03:00 [DBG] Connection id "0HML8CHLQOUJ7" accepted.
2022-10-07 16:04:47.972 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:04:47.972 +03:00 [DBG] Connection id "0HML8CHLQOUJ7" started.
2022-10-07 16:04:47.986 +03:00 [DBG] Connection id "0HML8CHLQOUJ6" stopped.
2022-10-07 16:04:47.990 +03:00 [DBG] Connection id "0HML8CHLQOUJ6" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:04:48.051 +03:00 [DBG] Connection 0HML8CHLQOUJ7 established using the following protocol: "Tls12"
2022-10-07 16:04:48.102 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7198/api/cities/1/pointsofinterest/32 application/json 106
2022-10-07 16:04:48.117 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 16:04:48.147 +03:00 [DBG] PATCH requests are not supported
2022-10-07 16:04:48.202 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/32'
2022-10-07 16:04:48.210 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiId}' is valid for the request path '/api/cities/1/pointsofinterest/32'
2022-10-07 16:04:48.216 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:04:48.220 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:04:48.265 +03:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:04:48.270 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:04:48.272 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:04:48.274 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:04:48.277 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:04:48.279 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:04:48.285 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:04:48.473 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 16:04:48.734 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:04:48.743 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:04:48.748 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:04:48.750 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:04:48.752 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:04:48.756 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:04:48.760 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:04:48.765 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:04:48.766 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 16:04:48.769 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:04:48.770 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:04:48.772 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:04:48.774 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:04:48.775 +03:00 [DBG] Attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2022-10-07 16:04:48.779 +03:00 [DBG] Attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2022-10-07 16:04:48.783 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-10-07 16:04:48.787 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-10-07 16:04:48.804 +03:00 [DBG] Connection id "0HML8CHLQOUJ7", Request id "0HML8CHLQOUJ7:00000002": started reading request body.
2022-10-07 16:04:48.806 +03:00 [DBG] Connection id "0HML8CHLQOUJ7", Request id "0HML8CHLQOUJ7:00000002": done reading request body.
2022-10-07 16:04:49.100 +03:00 [DBG] Done attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:04:49.102 +03:00 [DBG] Done attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:04:49.104 +03:00 [DBG] Attempting to validate the bound parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2022-10-07 16:04:49.114 +03:00 [DBG] Done attempting to validate the bound parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:04:50.277 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:04:50.334 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2022-10-07 16:04:50.636 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 16:04:50.706 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:04:50.819 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (105ms).
2022-10-07 16:04:50.839 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:04:50.867 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:04:50.883 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:04:50.906 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:04:50.932 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:04:50.964 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:04:50.967 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:04:50.986 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:04:51.000 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:04:51.012 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:04:51.038 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0 && x.Id == __poiId_1)
    .FirstOrDefault()'
2022-10-07 16:04:51.268 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(150), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__poiId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 16:04:51.302 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:04:51.308 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2022-10-07 16:04:51.315 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:04:51.318 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:04:51.326 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:04:51.339 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:04:51.347 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:04:51.383 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:04:51.386 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:04:51.388 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:04:51.540 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 3248.3293ms
2022-10-07 16:04:51.546 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:04:51.549 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> PointOfInterestForUpdateDto
System.Threading.Tasks.Task`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestForUpdateDto
   at lambda_method94(Closure , Object , PointOfInterestForUpdateDto , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest(Int32 cityId, Int32 poiId, JsonPatchDocument`1 reqPointOfInterest) in C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 120
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-07 16:04:51.607 +03:00 [DBG] Connection id "0HML8CHLQOUJ7" completed keep alive response.
2022-10-07 16:04:51.619 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:04:51.628 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7198/api/cities/1/pointsofinterest/32 application/json 106 - 500 - text/plain;+charset=utf-8 3528.9754ms
2022-10-07 16:07:13.847 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 16:07:13.974 +03:00 [DBG] Hosting starting
2022-10-07 16:07:14.166 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 16:07:14.232 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 16:07:14.234 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 16:07:14.235 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 16:07:14.236 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 16:07:14.237 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 16:07:14.238 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 16:07:14.239 +03:00 [INF] Hosting environment: Development
2022-10-07 16:07:14.240 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 16:07:14.241 +03:00 [DBG] Hosting started
2022-10-07 16:07:14.246 +03:00 [DBG] Connection id "0HML8CJD82SDQ" received FIN.
2022-10-07 16:07:14.261 +03:00 [DBG] Connection id "0HML8CJD82SDQ" accepted.
2022-10-07 16:07:14.265 +03:00 [DBG] Connection id "0HML8CJD82SDQ" started.
2022-10-07 16:07:14.297 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:07:14.355 +03:00 [DBG] Connection id "0HML8CJD82SDQ" stopped.
2022-10-07 16:07:14.361 +03:00 [DBG] Connection id "0HML8CJD82SDQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:07:21.551 +03:00 [DBG] Connection id "0HML8CJD82SDR" accepted.
2022-10-07 16:07:21.551 +03:00 [DBG] Connection id "0HML8CJD82SDR" received FIN.
2022-10-07 16:07:21.552 +03:00 [DBG] Connection id "0HML8CJD82SDR" started.
2022-10-07 16:07:21.554 +03:00 [DBG] Connection id "0HML8CJD82SDS" accepted.
2022-10-07 16:07:21.556 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:07:21.557 +03:00 [DBG] Connection id "0HML8CJD82SDS" started.
2022-10-07 16:07:21.562 +03:00 [DBG] Connection id "0HML8CJD82SDR" stopped.
2022-10-07 16:07:21.566 +03:00 [DBG] Connection id "0HML8CJD82SDR" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:07:21.630 +03:00 [DBG] Connection 0HML8CJD82SDS established using the following protocol: "Tls12"
2022-10-07 16:07:21.683 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7198/api/cities/1/pointsofinterest/32 application/json 106
2022-10-07 16:07:21.703 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 16:07:21.738 +03:00 [DBG] PATCH requests are not supported
2022-10-07 16:07:21.783 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/32'
2022-10-07 16:07:21.791 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiId}' is valid for the request path '/api/cities/1/pointsofinterest/32'
2022-10-07 16:07:21.795 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:07:21.803 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:07:21.852 +03:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:07:21.856 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:07:21.857 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:07:21.859 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:07:21.861 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:07:21.863 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:07:21.869 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:07:22.077 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 16:07:22.372 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:07:22.382 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:07:22.386 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:07:22.390 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:07:22.392 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:07:22.394 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:07:22.397 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:07:22.402 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:07:22.405 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 16:07:22.407 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:07:22.408 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:07:22.409 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:07:22.411 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:07:22.412 +03:00 [DBG] Attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2022-10-07 16:07:22.416 +03:00 [DBG] Attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2022-10-07 16:07:22.422 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-10-07 16:07:22.424 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-10-07 16:07:22.439 +03:00 [DBG] Connection id "0HML8CJD82SDS", Request id "0HML8CJD82SDS:00000002": started reading request body.
2022-10-07 16:07:22.441 +03:00 [DBG] Connection id "0HML8CJD82SDS", Request id "0HML8CJD82SDS:00000002": done reading request body.
2022-10-07 16:07:22.672 +03:00 [DBG] Done attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:07:22.675 +03:00 [DBG] Done attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:07:22.678 +03:00 [DBG] Attempting to validate the bound parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2022-10-07 16:07:22.690 +03:00 [DBG] Done attempting to validate the bound parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:07:23.859 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:07:23.921 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2022-10-07 16:07:24.243 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 16:07:24.322 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:07:24.432 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (105ms).
2022-10-07 16:07:24.446 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:07:24.476 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:07:24.496 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:07:24.528 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:07:24.562 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:07:24.599 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:07:24.602 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:07:24.617 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:07:24.629 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:07:24.643 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:07:24.682 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0 && x.Id == __poiId_1)
    .FirstOrDefault()'
2022-10-07 16:07:24.914 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(150), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__poiId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 16:07:24.940 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:07:24.942 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-10-07 16:07:24.949 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:07:24.951 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:07:24.959 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:07:24.971 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:07:24.983 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:07:25.036 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:07:25.038 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:07:25.041 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:07:25.172 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 3297.6233ms
2022-10-07 16:07:25.178 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:07:25.183 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> PointOfInterestForUpdateDto
System.Threading.Tasks.Task`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestForUpdateDto
   at lambda_method94(Closure , Object , PointOfInterestForUpdateDto , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest(Int32 cityId, Int32 poiId, JsonPatchDocument`1 reqPointOfInterest) in C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 120
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-07 16:07:25.256 +03:00 [DBG] Connection id "0HML8CJD82SDS" completed keep alive response.
2022-10-07 16:07:25.268 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:07:25.275 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7198/api/cities/1/pointsofinterest/32 application/json 106 - 500 - text/plain;+charset=utf-8 3599.1518ms
2022-10-07 16:14:47.731 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 16:14:47.868 +03:00 [DBG] Hosting starting
2022-10-07 16:14:48.051 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 16:14:48.116 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 16:14:48.117 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 16:14:48.118 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 16:14:48.119 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 16:14:48.120 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 16:14:48.121 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 16:14:48.123 +03:00 [INF] Hosting environment: Development
2022-10-07 16:14:48.125 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 16:14:48.126 +03:00 [DBG] Hosting started
2022-10-07 16:14:48.479 +03:00 [DBG] Connection id "0HML8CNKJUJ5G" accepted.
2022-10-07 16:14:48.482 +03:00 [DBG] Connection id "0HML8CNKJUJ5G" started.
2022-10-07 16:14:48.485 +03:00 [DBG] Connection id "0HML8CNKJUJ5H" received FIN.
2022-10-07 16:14:48.488 +03:00 [DBG] Connection id "0HML8CNKJUJ5H" accepted.
2022-10-07 16:14:48.488 +03:00 [DBG] Connection id "0HML8CNKJUJ5G" received FIN.
2022-10-07 16:14:48.490 +03:00 [DBG] Connection id "0HML8CNKJUJ5H" started.
2022-10-07 16:14:48.508 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:14:48.508 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:14:48.562 +03:00 [DBG] Connection id "0HML8CNKJUJ5G" stopped.
2022-10-07 16:14:48.562 +03:00 [DBG] Connection id "0HML8CNKJUJ5H" stopped.
2022-10-07 16:14:48.567 +03:00 [DBG] Connection id "0HML8CNKJUJ5G" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:14:48.567 +03:00 [DBG] Connection id "0HML8CNKJUJ5H" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:14:56.507 +03:00 [DBG] Connection id "0HML8CNKJUJ5I" accepted.
2022-10-07 16:14:56.507 +03:00 [DBG] Connection id "0HML8CNKJUJ5I" received FIN.
2022-10-07 16:14:56.508 +03:00 [DBG] Connection id "0HML8CNKJUJ5I" started.
2022-10-07 16:14:56.511 +03:00 [DBG] Connection id "0HML8CNKJUJ5J" accepted.
2022-10-07 16:14:56.513 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:14:56.514 +03:00 [DBG] Connection id "0HML8CNKJUJ5J" started.
2022-10-07 16:14:56.518 +03:00 [DBG] Connection id "0HML8CNKJUJ5I" stopped.
2022-10-07 16:14:56.524 +03:00 [DBG] Connection id "0HML8CNKJUJ5I" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:14:56.569 +03:00 [DBG] Connection 0HML8CNKJUJ5J established using the following protocol: "Tls12"
2022-10-07 16:14:56.626 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7198/api/cities/1/pointsofinterest/32 application/json 106
2022-10-07 16:14:56.641 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 16:14:56.667 +03:00 [DBG] PATCH requests are not supported
2022-10-07 16:14:56.714 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/32'
2022-10-07 16:14:56.723 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiId}' is valid for the request path '/api/cities/1/pointsofinterest/32'
2022-10-07 16:14:56.727 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:14:56.734 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:14:56.772 +03:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:14:56.776 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:14:56.778 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:14:56.780 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:14:56.782 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:14:56.784 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:14:56.791 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:14:56.990 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 16:14:57.259 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:14:57.267 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:14:57.270 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:14:57.276 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:14:57.278 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:14:57.280 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:14:57.283 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:14:57.286 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:14:57.291 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 16:14:57.293 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:14:57.295 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:14:57.296 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:14:57.298 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:14:57.299 +03:00 [DBG] Attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2022-10-07 16:14:57.302 +03:00 [DBG] Attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2022-10-07 16:14:57.309 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-10-07 16:14:57.312 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-10-07 16:14:57.326 +03:00 [DBG] Connection id "0HML8CNKJUJ5J", Request id "0HML8CNKJUJ5J:00000002": started reading request body.
2022-10-07 16:14:57.329 +03:00 [DBG] Connection id "0HML8CNKJUJ5J", Request id "0HML8CNKJUJ5J:00000002": done reading request body.
2022-10-07 16:14:57.576 +03:00 [DBG] Done attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:14:57.579 +03:00 [DBG] Done attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:14:57.581 +03:00 [DBG] Attempting to validate the bound parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2022-10-07 16:14:57.592 +03:00 [DBG] Done attempting to validate the bound parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:14:58.769 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:14:58.826 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2022-10-07 16:14:59.100 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 16:14:59.182 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:14:59.295 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (106ms).
2022-10-07 16:14:59.316 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:14:59.339 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:14:59.362 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:14:59.396 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:14:59.432 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:14:59.465 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:14:59.468 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:14:59.481 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:14:59.495 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:14:59.509 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:14:59.538 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0 && x.Id == __poiId_1)
    .FirstOrDefault()'
2022-10-07 16:14:59.756 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(150), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__poiId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 16:14:59.782 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:14:59.784 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-10-07 16:14:59.791 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:14:59.793 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:14:59.804 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:14:59.817 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:14:59.823 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:14:59.853 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:14:59.856 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:14:59.859 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:15:00.003 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 3205.596ms
2022-10-07 16:15:00.010 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:15:00.014 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> PointOfInterestForUpdateDto
System.Threading.Tasks.Task`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestForUpdateDto
   at lambda_method94(Closure , Object , PointOfInterestForUpdateDto , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest(Int32 cityId, Int32 poiId, JsonPatchDocument`1 reqPointOfInterest) in C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 120
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-07 16:15:00.075 +03:00 [DBG] Connection id "0HML8CNKJUJ5J" completed keep alive response.
2022-10-07 16:15:00.083 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:15:00.091 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7198/api/cities/1/pointsofinterest/32 application/json 106 - 500 - text/plain;+charset=utf-8 3469.6945ms
2022-10-07 16:15:12.089 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7198/api/cities/1/pointsofinterest/11 application/json 106
2022-10-07 16:15:12.091 +03:00 [DBG] PATCH requests are not supported
2022-10-07 16:15:12.095 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/11'
2022-10-07 16:15:12.096 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiId}' is valid for the request path '/api/cities/1/pointsofinterest/11'
2022-10-07 16:15:12.100 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:15:12.102 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:15:12.107 +03:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:15:12.111 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:15:12.112 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:15:12.114 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:15:12.118 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:15:12.122 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:15:12.125 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:15:12.127 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:15:12.130 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:15:12.131 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:15:12.133 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:15:12.138 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:15:12.141 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:15:12.143 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:15:12.145 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:15:12.148 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 16:15:12.152 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:15:12.154 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:15:12.159 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:15:12.162 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:15:12.164 +03:00 [DBG] Attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2022-10-07 16:15:12.170 +03:00 [DBG] Attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2022-10-07 16:15:12.174 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-10-07 16:15:12.176 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-10-07 16:15:12.178 +03:00 [DBG] Connection id "0HML8CNKJUJ5J", Request id "0HML8CNKJUJ5J:00000003": started reading request body.
2022-10-07 16:15:12.180 +03:00 [DBG] Connection id "0HML8CNKJUJ5J", Request id "0HML8CNKJUJ5J:00000003": done reading request body.
2022-10-07 16:15:12.184 +03:00 [DBG] Done attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:15:12.187 +03:00 [DBG] Done attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:15:12.188 +03:00 [DBG] Attempting to validate the bound parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2022-10-07 16:15:12.192 +03:00 [DBG] Done attempting to validate the bound parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:15:12.196 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:15:12.200 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:15:12.201 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:15:12.203 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:15:12.204 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:15:12.206 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:15:12.211 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:15:12.217 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:15:12.221 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:15:12.223 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:15:12.226 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:15:12.227 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:15:12.231 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:15:12.238 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:15:12.239 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:15:12.243 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:15:12.246 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:15:12.249 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:15:12.254 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:15:12.260 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:15:12.264 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:15:12.265 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:15:12.268 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:15:12.318 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 193.3175ms
2022-10-07 16:15:12.321 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:15:12.324 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> PointOfInterestForUpdateDto
System.Threading.Tasks.Task`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestForUpdateDto
   at lambda_method94(Closure , Object , PointOfInterestForUpdateDto , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest(Int32 cityId, Int32 poiId, JsonPatchDocument`1 reqPointOfInterest) in C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 120
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-07 16:15:12.349 +03:00 [DBG] Connection id "0HML8CNKJUJ5J" completed keep alive response.
2022-10-07 16:15:12.350 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:15:12.352 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7198/api/cities/1/pointsofinterest/11 application/json 106 - 500 - text/plain;+charset=utf-8 263.4210ms
2022-10-07 16:22:38.051 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 16:22:38.191 +03:00 [DBG] Hosting starting
2022-10-07 16:22:38.374 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 16:22:38.431 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 16:22:38.433 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 16:22:38.434 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 16:22:38.434 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 16:22:38.436 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 16:22:38.437 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 16:22:38.439 +03:00 [INF] Hosting environment: Development
2022-10-07 16:22:38.440 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 16:22:38.443 +03:00 [DBG] Hosting started
2022-10-07 16:22:38.755 +03:00 [DBG] Connection id "0HML8CS0OSJUG" received FIN.
2022-10-07 16:22:38.776 +03:00 [DBG] Connection id "0HML8CS0OSJUG" accepted.
2022-10-07 16:22:38.779 +03:00 [DBG] Connection id "0HML8CS0OSJUG" started.
2022-10-07 16:22:38.814 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:22:38.886 +03:00 [DBG] Connection id "0HML8CS0OSJUG" stopped.
2022-10-07 16:22:38.893 +03:00 [DBG] Connection id "0HML8CS0OSJUG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:22:51.922 +03:00 [DBG] Connection id "0HML8CS0OSJUH" accepted.
2022-10-07 16:22:51.922 +03:00 [DBG] Connection id "0HML8CS0OSJUH" received FIN.
2022-10-07 16:22:51.925 +03:00 [DBG] Connection id "0HML8CS0OSJUH" started.
2022-10-07 16:22:51.932 +03:00 [DBG] Connection id "0HML8CS0OSJUI" accepted.
2022-10-07 16:22:51.935 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:22:51.936 +03:00 [DBG] Connection id "0HML8CS0OSJUI" started.
2022-10-07 16:22:51.945 +03:00 [DBG] Connection id "0HML8CS0OSJUH" stopped.
2022-10-07 16:22:51.950 +03:00 [DBG] Connection id "0HML8CS0OSJUH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:22:52.008 +03:00 [DBG] Connection 0HML8CS0OSJUI established using the following protocol: "Tls12"
2022-10-07 16:22:52.068 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7198/api/cities/1/pointsofinterest/32 application/json 106
2022-10-07 16:22:52.087 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 16:22:52.112 +03:00 [DBG] PATCH requests are not supported
2022-10-07 16:22:52.151 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/32'
2022-10-07 16:22:52.161 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiId}' is valid for the request path '/api/cities/1/pointsofinterest/32'
2022-10-07 16:22:52.167 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:22:52.173 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:22:52.223 +03:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:22:52.227 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:22:52.228 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:22:52.230 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:22:52.234 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:22:52.235 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:22:52.238 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:22:52.442 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 16:22:52.707 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:22:52.714 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:22:52.720 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:22:52.723 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:22:52.725 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:22:52.726 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:22:52.729 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:22:52.737 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:22:52.739 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 16:22:52.740 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:22:52.741 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:22:52.743 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:22:52.744 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:22:52.746 +03:00 [DBG] Attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2022-10-07 16:22:52.752 +03:00 [DBG] Attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2022-10-07 16:22:52.756 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-10-07 16:22:52.758 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-10-07 16:22:52.770 +03:00 [DBG] Connection id "0HML8CS0OSJUI", Request id "0HML8CS0OSJUI:00000002": started reading request body.
2022-10-07 16:22:52.772 +03:00 [DBG] Connection id "0HML8CS0OSJUI", Request id "0HML8CS0OSJUI:00000002": done reading request body.
2022-10-07 16:22:52.993 +03:00 [DBG] Done attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:22:52.995 +03:00 [DBG] Done attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:22:52.998 +03:00 [DBG] Attempting to validate the bound parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2022-10-07 16:22:53.009 +03:00 [DBG] Done attempting to validate the bound parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:22:54.197 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:22:54.253 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2022-10-07 16:22:54.529 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 16:22:54.611 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:22:54.719 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (103ms).
2022-10-07 16:22:54.739 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:22:54.771 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:22:54.793 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:22:54.827 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:22:54.863 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:22:54.897 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:22:54.901 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:22:54.912 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:22:54.925 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:22:54.936 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:22:54.960 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0 && x.Id == __poiId_1)
    .FirstOrDefault()'
2022-10-07 16:22:55.230 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(150), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__poiId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 16:22:55.260 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:22:55.261 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:22:55.268 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:22:55.270 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:22:55.280 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:22:55.291 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:22:55.299 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:22:55.330 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:22:55.332 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:22:55.335 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:22:55.370 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-10-07 16:22:55.374 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-10-07 16:22:55.393 +03:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-07 16:22:55.407 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:22:55.416 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-10-07 16:22:55.462 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:22:55.464 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:22:55.471 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-07 16:22:55.479 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-10-07 16:22:55.552 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:22:55.554 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:22:55.556 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2022-10-07 16:22:55.563 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2022-10-07 16:22:55.576 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:22:55.588 +03:00 [DBG] Committing transaction.
2022-10-07 16:22:55.596 +03:00 [DBG] Committed transaction.
2022-10-07 16:22:55.605 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:22:55.609 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:22:55.617 +03:00 [DBG] Disposing transaction.
2022-10-07 16:22:55.625 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:22:55.634 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-10-07 16:22:55.643 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-10-07 16:22:55.653 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 3407.6311ms
2022-10-07 16:22:55.659 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:22:55.664 +03:00 [DBG] Connection id "0HML8CS0OSJUI" completed keep alive response.
2022-10-07 16:22:55.673 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:22:55.680 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7198/api/cities/1/pointsofinterest/32 application/json 106 - 204 - - 3619.6205ms
2022-10-07 16:23:11.779 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - -
2022-10-07 16:23:11.794 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 16:23:11.796 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-10-07 16:23:11.800 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-10-07 16:23:11.803 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 16:23:11.806 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 16:23:11.815 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:23:11.820 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:23:11.823 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:23:11.825 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:23:11.828 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:23:11.832 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:23:11.835 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:23:11.838 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:23:11.840 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:23:11.841 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:23:11.842 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:23:11.844 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:23:11.850 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:23:11.851 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:23:11.868 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:23:11.880 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:23:11.881 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:23:11.883 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:23:11.885 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:23:11.886 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:23:11.888 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:23:11.895 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:23:11.898 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:23:11.901 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:23:11.902 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:23:11.903 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:23:11.906 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:23:11.911 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0)'
2022-10-07 16:23:11.917 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(150), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 16:23:11.921 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:23:11.926 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2022-10-07 16:23:11.928 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:23:11.930 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:23:11.932 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-10-07 16:23:11.936 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-10-07 16:23:11.941 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:23:11.944 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:23:11.945 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:23:11.947 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:23:11.949 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:23:11.950 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:23:11.953 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:23:11.972 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 16:23:11.980 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 16:23:11.982 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 16:23:11.984 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 16:23:11.990 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 16:23:11.992 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-07 16:23:12.072 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 236.83ms
2022-10-07 16:23:12.075 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 16:23:12.077 +03:00 [DBG] Connection id "0HML8CS0OSJUI" completed keep alive response.
2022-10-07 16:23:12.079 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:23:12.080 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - - - 200 334 application/json;+charset=utf-8 301.4160ms
2022-10-07 16:38:46.407 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 16:38:46.538 +03:00 [DBG] Hosting starting
2022-10-07 16:38:46.711 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 16:38:46.785 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 16:38:46.787 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 16:38:46.788 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 16:38:46.789 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 16:38:46.790 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 16:38:46.792 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 16:38:46.793 +03:00 [INF] Hosting environment: Development
2022-10-07 16:38:46.794 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 16:38:46.795 +03:00 [DBG] Hosting started
2022-10-07 16:38:47.110 +03:00 [DBG] Connection id "0HML8D51BR5VL" received FIN.
2022-10-07 16:38:47.122 +03:00 [DBG] Connection id "0HML8D51BR5VL" accepted.
2022-10-07 16:38:47.125 +03:00 [DBG] Connection id "0HML8D51BR5VL" started.
2022-10-07 16:38:47.151 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:38:47.197 +03:00 [DBG] Connection id "0HML8D51BR5VL" stopped.
2022-10-07 16:38:47.203 +03:00 [DBG] Connection id "0HML8D51BR5VL" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:39:06.480 +03:00 [DBG] Connection id "0HML8D51BR5VM" received FIN.
2022-10-07 16:39:06.482 +03:00 [DBG] Connection id "0HML8D51BR5VM" accepted.
2022-10-07 16:39:06.483 +03:00 [DBG] Connection id "0HML8D51BR5VM" started.
2022-10-07 16:39:06.489 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:39:06.491 +03:00 [DBG] Connection id "0HML8D51BR5VN" accepted.
2022-10-07 16:39:06.497 +03:00 [DBG] Connection id "0HML8D51BR5VM" stopped.
2022-10-07 16:39:06.498 +03:00 [DBG] Connection id "0HML8D51BR5VN" started.
2022-10-07 16:39:06.504 +03:00 [DBG] Connection id "0HML8D51BR5VM" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:39:06.573 +03:00 [DBG] Connection 0HML8D51BR5VN established using the following protocol: "Tls12"
2022-10-07 16:39:06.622 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7198/api/cities/1/pointsofinterest/32 - -
2022-10-07 16:39:06.637 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 16:39:06.664 +03:00 [DBG] DELETE requests are not supported
2022-10-07 16:39:06.706 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/32'
2022-10-07 16:39:06.715 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiId}' is valid for the request path '/api/cities/1/pointsofinterest/32'
2022-10-07 16:39:06.724 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:39:06.731 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:39:06.774 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:39:06.779 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:39:06.780 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:39:06.782 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:39:06.787 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:39:06.789 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:39:06.792 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:39:06.983 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 16:39:07.236 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:39:07.244 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:39:07.248 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:39:07.252 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:39:07.254 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:39:07.258 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:39:07.262 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:39:07.266 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:39:07.268 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 16:39:07.272 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:39:07.274 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:39:07.276 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:39:07.278 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:39:08.447 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:39:08.493 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2022-10-07 16:39:08.777 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 16:39:08.862 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:39:08.961 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (95ms).
2022-10-07 16:39:08.984 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:09.017 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:09.038 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:39:09.079 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:39:09.113 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:09.143 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:09.146 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:09.161 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:39:09.177 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:09.189 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:09.227 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 16:39:09.344 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 16:39:09.644 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 16:39:09.672 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:39:09.674 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:39:09.680 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:09.682 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:09.694 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:39:09.702 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:39:09.718 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:09.744 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:09.745 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:09.747 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:09.750 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:39:09.753 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:09.755 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:09.758 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-10-07 16:39:09.762 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 16:39:09.764 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:39:09.770 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2022-10-07 16:39:09.772 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:09.773 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:09.776 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 16:39:09.778 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 16:39:09.780 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:39:09.781 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:09.789 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:09.793 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0 && x.Id == __poiId_1)
    .FirstOrDefault()'
2022-10-07 16:39:09.800 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(150), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__poiId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 16:39:09.809 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:39:09.810 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:39:09.815 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:09.818 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:09.821 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:39:09.824 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:39:09.831 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:39:09.833 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:09.835 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:09.849 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-10-07 16:39:09.855 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-10-07 16:39:09.885 +03:00 [DBG] 0 entities were added and 1 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:09.915 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:09.930 +03:00 [DBG] An entity of type 'PointOfInterest' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'City'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:09.941 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:09.957 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-10-07 16:39:09.984 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:09.987 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:09.997 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-07 16:39:10.008 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-10-07 16:39:10.068 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:39:10.070 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:39:10.072 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0;
SELECT changes();
2022-10-07 16:39:10.075 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0;
SELECT changes();
2022-10-07 16:39:10.084 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:39:10.099 +03:00 [DBG] Committing transaction.
2022-10-07 16:39:10.108 +03:00 [DBG] Committed transaction.
2022-10-07 16:39:10.120 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:10.123 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:10.132 +03:00 [DBG] Disposing transaction.
2022-10-07 16:39:10.148 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:10.156 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-10-07 16:39:10.168 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-10-07 16:39:10.178 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 3378.4699ms
2022-10-07 16:39:10.182 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:39:10.188 +03:00 [DBG] Connection id "0HML8D51BR5VN" completed keep alive response.
2022-10-07 16:39:10.196 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:39:10.205 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7198/api/cities/1/pointsofinterest/32 - - - 204 - - 3587.3920ms
2022-10-07 16:39:22.389 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - -
2022-10-07 16:39:22.421 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 16:39:22.424 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-10-07 16:39:22.425 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-10-07 16:39:22.428 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 16:39:22.432 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 16:39:22.441 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:39:22.447 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:39:22.449 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:39:22.452 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:39:22.456 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:39:22.457 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:39:22.459 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:39:22.465 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:39:22.468 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:39:22.471 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:39:22.473 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:39:22.476 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:39:22.480 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:39:22.482 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:39:22.501 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:39:22.519 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:39:22.520 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:39:22.522 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:22.526 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:22.528 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:39:22.531 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:39:22.533 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:22.535 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:22.538 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:22.543 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:39:22.545 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:22.548 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:22.553 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0)'
2022-10-07 16:39:22.562 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(150), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 16:39:22.567 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:39:22.567 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 16:39:22.569 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:22.575 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:22.579 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-10-07 16:39:22.584 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-10-07 16:39:22.593 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:22.596 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:22.599 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:39:22.603 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:39:22.607 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:39:22.610 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:39:22.633 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 16:39:22.642 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 16:39:22.643 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 16:39:22.645 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 16:39:22.647 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 16:39:22.648 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-07 16:39:22.853 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 393.7288ms
2022-10-07 16:39:22.855 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-10-07 16:39:22.857 +03:00 [DBG] Connection id "0HML8D51BR5VN" completed keep alive response.
2022-10-07 16:39:22.859 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:39:22.860 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1/pointsofinterest - - - 200 227 application/json;+charset=utf-8 471.1255ms
2022-10-07 16:39:54.165 +03:00 [DBG] Connection id "0HML8D51BR5VN" received FIN.
2022-10-07 16:39:54.332 +03:00 [DBG] Connection id "0HML8D51BR5VN" sending FIN because: "The client closed the connection."
2022-10-07 16:39:54.348 +03:00 [DBG] Connection id "0HML8D51BR5VN" disconnecting.
2022-10-07 16:39:54.354 +03:00 [DBG] Connection id "0HML8D51BR5VN" stopped.
2022-10-07 16:40:23.302 +03:00 [DBG] Connection id "0HML8D51BR5VO" accepted.
2022-10-07 16:40:23.355 +03:00 [DBG] Connection id "0HML8D51BR5VP" accepted.
2022-10-07 16:40:23.360 +03:00 [DBG] Connection id "0HML8D51BR5VO" started.
2022-10-07 16:40:23.370 +03:00 [DBG] Connection id "0HML8D51BR5VO" received FIN.
2022-10-07 16:40:23.375 +03:00 [DBG] Connection id "0HML8D51BR5VP" started.
2022-10-07 16:40:23.398 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:40:23.402 +03:00 [DBG] Connection 0HML8D51BR5VP established using the following protocol: "Tls12"
2022-10-07 16:40:23.410 +03:00 [DBG] Connection id "0HML8D51BR5VO" stopped.
2022-10-07 16:40:23.412 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - -
2022-10-07 16:40:23.413 +03:00 [DBG] Connection id "0HML8D51BR5VO" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:40:23.416 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 16:40:23.424 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-10-07 16:40:23.425 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-10-07 16:40:23.428 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:40:23.429 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:40:23.434 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 16:40:23.440 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:40:23.441 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:40:23.443 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:40:23.446 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:40:23.447 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:40:23.449 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 16:40:23.454 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 16:40:23.463 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 16:40:23.465 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 16:40:23.467 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 16:40:23.469 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 16:40:23.473 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 16:40:23.475 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 16:40:23.476 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 16:40:23.479 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 16:40:23.482 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:40:23.483 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:40:23.484 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 16:40:23.489 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:40:23.548 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:40:23.557 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:40:23.558 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:40:23.560 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:40:23.561 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:40:23.563 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:40:23.572 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:40:23.577 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:40:23.580 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:40:23.587 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:40:23.589 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:40:23.592 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:40:23.592 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:40:23.595 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:40:23.604 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 16:40:23.610 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 16:40:23.611 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 16:40:23.615 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 16:40:23.617 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 16:40:23.620 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 16:40:23.633 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 183.4006ms
2022-10-07 16:40:23.634 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:40:23.637 +03:00 [DBG] Connection id "0HML8D51BR5VP" completed keep alive response.
2022-10-07 16:40:23.640 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:40:23.642 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - - - 200 348 application/json;+charset=utf-8 229.5086ms
2022-10-07 16:41:18.663 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7198/api/cities/1/pointsofinterest/12 application/json 98
2022-10-07 16:41:18.665 +03:00 [DBG] PATCH requests are not supported
2022-10-07 16:41:18.667 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/12'
2022-10-07 16:41:18.668 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiId}' is valid for the request path '/api/cities/1/pointsofinterest/12'
2022-10-07 16:41:18.672 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:41:18.675 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:41:18.680 +03:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:41:18.682 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:41:18.684 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:41:18.686 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:41:18.692 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:41:18.694 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:41:18.696 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:41:18.698 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:41:18.700 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:41:18.702 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:41:18.706 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:41:18.708 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:41:18.709 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:41:18.711 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:41:18.712 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:41:18.714 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 16:41:18.715 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:41:18.717 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:41:18.721 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:41:18.723 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:41:18.725 +03:00 [DBG] Attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2022-10-07 16:41:18.728 +03:00 [DBG] Attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2022-10-07 16:41:18.730 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-10-07 16:41:18.731 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-10-07 16:41:18.747 +03:00 [DBG] Connection id "0HML8D51BR5VP", Request id "0HML8D51BR5VP:00000003": started reading request body.
2022-10-07 16:41:18.750 +03:00 [DBG] Connection id "0HML8D51BR5VP", Request id "0HML8D51BR5VP:00000003": done reading request body.
2022-10-07 16:41:18.848 +03:00 [DBG] Done attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:41:18.851 +03:00 [DBG] Done attempting to bind parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:41:18.854 +03:00 [DBG] Attempting to validate the bound parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2022-10-07 16:41:18.869 +03:00 [DBG] Done attempting to validate the bound parameter 'reqPointOfInterest' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2022-10-07 16:41:18.872 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:41:18.877 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:41:18.879 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:41:18.881 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:41:18.882 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:41:18.885 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:41:18.889 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:41:18.895 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:41:18.897 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:41:18.900 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:41:18.902 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:41:18.903 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:41:18.908 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:41:18.910 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:41:18.911 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:41:18.912 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:41:18.915 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:41:18.917 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:41:18.920 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:41:18.926 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:41:18.928 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:41:18.928 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:41:18.931 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:41:18.950 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-10-07 16:41:18.954 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-10-07 16:41:18.961 +03:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-07 16:41:18.964 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:41:18.974 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-10-07 16:41:18.976 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:41:18.978 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:41:18.981 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-07 16:41:18.983 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-10-07 16:41:18.996 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:41:18.997 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 16:41:18.999 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0
WHERE "Id" = @p1;
SELECT changes();
2022-10-07 16:41:19.008 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0
WHERE "Id" = @p1;
SELECT changes();
2022-10-07 16:41:19.011 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:41:19.012 +03:00 [DBG] Committing transaction.
2022-10-07 16:41:19.018 +03:00 [DBG] Committed transaction.
2022-10-07 16:41:19.022 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:41:19.025 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:41:19.027 +03:00 [DBG] Disposing transaction.
2022-10-07 16:41:19.029 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:41:19.031 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-10-07 16:41:19.035 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-10-07 16:41:19.036 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 339.5951ms
2022-10-07 16:41:19.038 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2022-10-07 16:41:19.041 +03:00 [DBG] Connection id "0HML8D51BR5VP" completed keep alive response.
2022-10-07 16:41:19.042 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:41:19.043 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7198/api/cities/1/pointsofinterest/12 application/json 98 - 204 - - 380.3744ms
2022-10-07 16:41:23.861 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - -
2022-10-07 16:41:23.862 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 16:41:23.864 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-10-07 16:41:23.865 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-10-07 16:41:23.868 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:41:23.871 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:41:23.873 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 16:41:23.877 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:41:23.879 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:41:23.880 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:41:23.884 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:41:23.890 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:41:23.893 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 16:41:23.894 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 16:41:23.896 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 16:41:23.897 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 16:41:23.898 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 16:41:23.902 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 16:41:23.904 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 16:41:23.907 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 16:41:23.909 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 16:41:23.910 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 16:41:23.912 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:41:23.913 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:41:23.914 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 16:41:23.919 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:41:23.921 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:41:23.924 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:41:23.925 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:41:23.927 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:41:23.928 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:41:23.933 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:41:23.937 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:41:23.942 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:41:23.943 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:41:23.945 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:41:23.951 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:41:23.953 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:41:23.954 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:41:23.957 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:41:23.959 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 16:41:23.964 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 16:41:23.965 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 16:41:23.967 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 16:41:23.969 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 16:41:23.971 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 16:41:23.973 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 80.5023ms
2022-10-07 16:41:23.975 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:41:23.979 +03:00 [DBG] Connection id "0HML8D51BR5VP" completed keep alive response.
2022-10-07 16:41:23.980 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:41:23.982 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/1?includePOIs=true - - - 200 358 application/json;+charset=utf-8 120.5369ms
2022-10-07 16:42:06.167 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7198/api/cities/4/pointsofinterest/ application/json 64
2022-10-07 16:42:06.173 +03:00 [DBG] POST requests are not supported
2022-10-07 16:42:06.175 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest/'
2022-10-07 16:42:06.178 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/4/pointsofinterest/'
2022-10-07 16:42:06.181 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 16:42:06.183 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 16:42:06.191 +03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:42:06.198 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:42:06.200 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:42:06.202 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:42:06.207 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:42:06.212 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:42:06.215 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:42:06.217 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:42:06.218 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:42:06.220 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:42:06.222 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:42:06.228 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:42:06.230 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:42:06.232 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:42:06.234 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2022-10-07 16:42:06.238 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2022-10-07 16:42:06.244 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-10-07 16:42:06.247 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-10-07 16:42:06.250 +03:00 [DBG] Connection id "0HML8D51BR5VP", Request id "0HML8D51BR5VP:00000005": started reading request body.
2022-10-07 16:42:06.252 +03:00 [DBG] Connection id "0HML8D51BR5VP", Request id "0HML8D51BR5VP:00000005": done reading request body.
2022-10-07 16:42:06.264 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 16:42:06.266 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 16:42:06.269 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2022-10-07 16:42:06.273 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 16:42:06.277 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:42:06.280 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:42:06.281 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 16:42:06.282 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:42:06.283 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:42:06.285 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:42:06.293 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:42:06.296 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:42:06.297 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:42:06.298 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:42:06.301 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 16:42:06.308 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 16:42:06.310 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2022-10-07 16:42:06.313 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-10-07 16:42:06.315 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-10-07 16:42:06.334 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 119.3687ms
2022-10-07 16:42:06.339 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 16:42:06.343 +03:00 [DBG] Connection id "0HML8D51BR5VP" completed keep alive response.
2022-10-07 16:42:06.347 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:42:06.349 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7198/api/cities/4/pointsofinterest/ application/json 64 - 404 161 application/problem+json;+charset=utf-8 182.5153ms
2022-10-07 16:42:20.145 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7198/api/cities/3/pointsofinterest/ application/json 64
2022-10-07 16:42:20.147 +03:00 [DBG] POST requests are not supported
2022-10-07 16:42:20.148 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/'
2022-10-07 16:42:20.150 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest/'
2022-10-07 16:42:20.153 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 16:42:20.161 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 16:42:20.164 +03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:42:20.175 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:42:20.178 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:42:20.180 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:42:20.186 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:42:20.189 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:42:20.192 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:42:20.194 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:42:20.195 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:42:20.197 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:42:20.198 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:42:20.202 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:42:20.204 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:42:20.206 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:42:20.208 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2022-10-07 16:42:20.210 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2022-10-07 16:42:20.212 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-10-07 16:42:20.214 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-10-07 16:42:20.218 +03:00 [DBG] Connection id "0HML8D51BR5VP", Request id "0HML8D51BR5VP:00000006": started reading request body.
2022-10-07 16:42:20.220 +03:00 [DBG] Connection id "0HML8D51BR5VP", Request id "0HML8D51BR5VP:00000006": done reading request body.
2022-10-07 16:42:20.222 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 16:42:20.224 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 16:42:20.226 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2022-10-07 16:42:20.228 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 16:42:20.230 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:42:20.235 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:42:20.236 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:42:20.238 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:42:20.241 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:42:20.243 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:42:20.246 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:42:20.252 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:42:20.253 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:42:20.256 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:42:20.257 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:42:20.259 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:42:20.264 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:42:20.265 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:42:20.267 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:42:20.268 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:42:20.270 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 16:42:20.274 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 16:42:20.277 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:42:20.280 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:42:20.282 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:42:20.283 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-10-07 16:42:20.284 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-10-07 16:42:20.286 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:42:20.317 +03:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:42:20.330 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:42:20.334 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-10-07 16:42:20.336 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:42:20.337 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:42:20.340 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-07 16:42:20.341 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-10-07 16:42:20.354 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:42:20.356 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-10-07 16:42:20.363 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 12), @p2='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-10-07 16:42:20.368 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 12), @p2='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-10-07 16:42:20.402 +03:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-07 16:42:20.414 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:42:20.415 +03:00 [DBG] Committing transaction.
2022-10-07 16:42:20.419 +03:00 [DBG] Committed transaction.
2022-10-07 16:42:20.422 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:42:20.425 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:42:20.426 +03:00 [DBG] Disposing transaction.
2022-10-07 16:42:20.428 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:42:20.430 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-10-07 16:42:20.435 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 16:42:20.441 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 16:42:20.442 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 16:42:20.444 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 16:42:20.445 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 16:42:20.447 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2022-10-07 16:42:20.470 +03:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-10-07 16:42:20.486 +03:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{poiid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/34 and 
2022-10-07 16:42:20.491 +03:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/34
2022-10-07 16:42:20.494 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 302.0989ms
2022-10-07 16:42:20.496 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 16:42:20.500 +03:00 [DBG] Connection id "0HML8D51BR5VP" completed keep alive response.
2022-10-07 16:42:20.501 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:42:20.503 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7198/api/cities/3/pointsofinterest/ application/json 64 - 201 59 application/json;+charset=utf-8 357.2340ms
2022-10-07 16:42:29.247 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - -
2022-10-07 16:42:29.253 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 16:42:29.258 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2022-10-07 16:42:29.260 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2022-10-07 16:42:29.262 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:42:29.263 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:42:29.265 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 16:42:29.268 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:42:29.274 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:42:29.276 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:42:29.279 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:42:29.281 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:42:29.282 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 16:42:29.287 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 16:42:29.288 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 16:42:29.290 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 16:42:29.292 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 16:42:29.294 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 16:42:29.295 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 16:42:29.296 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 16:42:29.298 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 16:42:29.303 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 16:42:29.307 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:42:29.309 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:42:29.310 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 16:42:29.311 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:42:29.313 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:42:29.318 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:42:29.319 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 16:42:29.320 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:42:29.321 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:42:29.324 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:42:29.328 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:42:29.335 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:42:29.337 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:42:29.339 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:42:29.341 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:42:29.342 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:42:29.344 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:42:29.346 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 16:42:29.354 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 16:42:29.355 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 16:42:29.358 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 16:42:29.359 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 16:42:29.361 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 16:42:29.365 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 82.768ms
2022-10-07 16:42:29.367 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:42:29.368 +03:00 [DBG] Connection id "0HML8D51BR5VP" completed keep alive response.
2022-10-07 16:42:29.369 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:42:29.370 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - - - 200 232 application/json;+charset=utf-8 123.5078ms
2022-10-07 16:43:03.514 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7198/api/cities/3/pointsofinterest/ application/json 25
2022-10-07 16:43:03.519 +03:00 [DBG] POST requests are not supported
2022-10-07 16:43:03.521 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/'
2022-10-07 16:43:03.522 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest/'
2022-10-07 16:43:03.525 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 16:43:03.527 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 16:43:03.528 +03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:43:03.532 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:43:03.533 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:43:03.535 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:43:03.542 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:43:03.544 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:43:03.546 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:43:03.548 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:43:03.549 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:43:03.555 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:43:03.558 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:43:03.560 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:43:03.562 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:43:03.564 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:43:03.569 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2022-10-07 16:43:03.573 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2022-10-07 16:43:03.577 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-10-07 16:43:03.580 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-10-07 16:43:03.584 +03:00 [DBG] Connection id "0HML8D51BR5VP", Request id "0HML8D51BR5VP:00000008": started reading request body.
2022-10-07 16:43:03.585 +03:00 [DBG] Connection id "0HML8D51BR5VP", Request id "0HML8D51BR5VP:00000008": done reading request body.
2022-10-07 16:43:03.587 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 16:43:03.589 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 16:43:03.592 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2022-10-07 16:43:03.594 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-10-07 16:43:03.596 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:43:03.602 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:03.604 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:43:03.605 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:03.608 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:03.610 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:43:03.616 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:43:03.619 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:03.621 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:03.624 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:03.627 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:03.632 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:03.633 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:03.635 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:03.637 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:43:03.639 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:03.641 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:03.644 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 16:43:03.647 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 16:43:03.650 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:03.651 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:03.653 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:03.654 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-10-07 16:43:03.656 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-10-07 16:43:03.659 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:03.665 +03:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:03.668 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:03.670 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-10-07 16:43:03.671 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:03.674 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:03.676 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-07 16:43:03.679 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-10-07 16:43:03.681 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:03.682 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 16:43:03.684 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-10-07 16:43:03.688 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-10-07 16:43:03.697 +03:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-07 16:43:03.698 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:03.700 +03:00 [DBG] Committing transaction.
2022-10-07 16:43:03.703 +03:00 [DBG] Committed transaction.
2022-10-07 16:43:03.704 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:03.706 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:03.708 +03:00 [DBG] Disposing transaction.
2022-10-07 16:43:03.712 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:03.714 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-10-07 16:43:03.716 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 16:43:03.719 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 16:43:03.720 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 16:43:03.722 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 16:43:03.727 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 16:43:03.729 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2022-10-07 16:43:03.731 +03:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-10-07 16:43:03.733 +03:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{poiid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/35 and 
2022-10-07 16:43:03.734 +03:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/35
2022-10-07 16:43:03.737 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 190.4915ms
2022-10-07 16:43:03.744 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-10-07 16:43:03.746 +03:00 [DBG] Connection id "0HML8D51BR5VP" completed keep alive response.
2022-10-07 16:43:03.747 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:43:03.749 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7198/api/cities/3/pointsofinterest/ application/json 25 - 201 45 application/json;+charset=utf-8 235.1265ms
2022-10-07 16:43:13.108 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - -
2022-10-07 16:43:13.110 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 16:43:13.112 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2022-10-07 16:43:13.115 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2022-10-07 16:43:13.117 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:43:13.119 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:43:13.125 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 16:43:13.129 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:43:13.130 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:43:13.132 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:43:13.134 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:43:13.138 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:43:13.144 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 16:43:13.146 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 16:43:13.148 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 16:43:13.149 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 16:43:13.154 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 16:43:13.155 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 16:43:13.157 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 16:43:13.159 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 16:43:13.161 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 16:43:13.163 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 16:43:13.165 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:43:13.167 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:43:13.171 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 16:43:13.173 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:43:13.177 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:43:13.179 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:13.180 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 16:43:13.182 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:13.183 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:13.188 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:43:13.195 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:43:13.202 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:13.204 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:13.206 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:13.209 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:13.211 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:13.212 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:13.217 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:13.219 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 16:43:13.224 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 16:43:13.226 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 16:43:13.228 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 16:43:13.232 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 16:43:13.234 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 16:43:13.236 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 92.0953ms
2022-10-07 16:43:13.237 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:43:13.238 +03:00 [DBG] Connection id "0HML8D51BR5VP" completed keep alive response.
2022-10-07 16:43:13.241 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:43:13.242 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - - - 200 278 application/json;+charset=utf-8 134.1314ms
2022-10-07 16:43:29.488 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7198/api/cities/3/pointsofinterest/35 - -
2022-10-07 16:43:29.491 +03:00 [DBG] DELETE requests are not supported
2022-10-07 16:43:29.494 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/35'
2022-10-07 16:43:29.497 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiId}' is valid for the request path '/api/cities/3/pointsofinterest/35'
2022-10-07 16:43:29.503 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:43:29.510 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:43:29.513 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:43:29.518 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:43:29.525 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:43:29.527 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:43:29.530 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:43:29.532 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:43:29.534 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:43:29.539 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:43:29.542 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:43:29.544 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:43:29.546 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:43:29.547 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:43:29.548 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:43:29.550 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:43:29.554 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:43:29.555 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 16:43:29.558 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:43:29.560 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:43:29.561 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:43:29.563 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:43:29.565 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:43:29.569 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:29.570 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:43:29.572 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:29.574 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:29.576 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:43:29.579 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:43:29.582 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:29.587 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:29.589 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:29.591 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:29.592 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:29.595 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:29.596 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:29.597 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 16:43:29.599 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:29.603 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:29.605 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:43:29.610 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:43:29.613 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:29.619 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:29.622 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:29.624 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:29.626 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:29.628 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:29.630 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:29.633 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-10-07 16:43:29.635 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:29.637 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:29.639 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 16:43:29.643 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 16:43:29.650 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:29.651 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:29.653 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:29.655 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:29.656 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:43:29.658 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:29.660 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:29.665 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:43:29.668 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:43:29.672 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:29.674 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:29.679 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:29.680 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-10-07 16:43:29.681 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-10-07 16:43:29.683 +03:00 [DBG] 0 entities were added and 1 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:29.685 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:29.687 +03:00 [DBG] An entity of type 'PointOfInterest' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'City'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:29.689 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:29.695 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-10-07 16:43:29.697 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:29.698 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:29.700 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-07 16:43:29.702 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-10-07 16:43:29.704 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:29.705 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 16:43:29.710 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0;
SELECT changes();
2022-10-07 16:43:29.715 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0;
SELECT changes();
2022-10-07 16:43:29.719 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:29.721 +03:00 [DBG] Committing transaction.
2022-10-07 16:43:29.727 +03:00 [DBG] Committed transaction.
2022-10-07 16:43:29.731 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:29.735 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:29.736 +03:00 [DBG] Disposing transaction.
2022-10-07 16:43:29.737 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:29.743 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-10-07 16:43:29.746 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-10-07 16:43:29.747 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 213.2712ms
2022-10-07 16:43:29.749 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:43:29.751 +03:00 [DBG] Connection id "0HML8D51BR5VP" completed keep alive response.
2022-10-07 16:43:29.753 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:43:29.754 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7198/api/cities/3/pointsofinterest/35 - - - 204 - - 265.8910ms
2022-10-07 16:43:36.704 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7198/api/cities/3/pointsofinterest/32 - -
2022-10-07 16:43:36.707 +03:00 [DBG] DELETE requests are not supported
2022-10-07 16:43:36.709 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/32'
2022-10-07 16:43:36.711 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiId}' is valid for the request path '/api/cities/3/pointsofinterest/32'
2022-10-07 16:43:36.718 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:43:36.721 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:43:36.726 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:43:36.732 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:43:36.734 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:43:36.736 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:43:36.741 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:43:36.742 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:43:36.745 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:43:36.749 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:43:36.751 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:43:36.752 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:43:36.754 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:43:36.755 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:43:36.758 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:43:36.759 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:43:36.761 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:43:36.765 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 16:43:36.767 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:43:36.768 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:43:36.770 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:43:36.771 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:43:36.774 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:43:36.777 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:36.781 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2022-10-07 16:43:36.783 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:36.785 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:36.789 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:43:36.793 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:43:36.800 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:36.803 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:36.805 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:36.811 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:36.812 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:36.814 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:36.815 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:36.816 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 16:43:36.818 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:36.819 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:36.821 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:43:36.829 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:43:36.832 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:36.834 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:43:36.836 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:36.837 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:36.839 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:36.844 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:36.846 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:43:36.847 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:36.848 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:36.850 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 16:43:36.853 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-10-07 16:43:36.860 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:36.861 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:36.863 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:36.865 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:43:36.866 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 16:43:36.867 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:36.868 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:36.870 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:43:36.877 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:43:36.880 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:43:36.881 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:43:36.883 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:43:36.884 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-10-07 16:43:36.885 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-10-07 16:43:36.887 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-10-07 16:43:36.888 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2022-10-07 16:58:47.787 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 16:58:47.960 +03:00 [DBG] Hosting starting
2022-10-07 16:58:48.148 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 16:58:48.212 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 16:58:48.214 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 16:58:48.216 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 16:58:48.217 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 16:58:48.218 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 16:58:48.220 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 16:58:48.221 +03:00 [INF] Hosting environment: Development
2022-10-07 16:58:48.222 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 16:58:48.223 +03:00 [DBG] Hosting started
2022-10-07 16:58:48.647 +03:00 [DBG] Connection id "0HML8DG7EJA58" received FIN.
2022-10-07 16:58:48.650 +03:00 [DBG] Connection id "0HML8DG7EJA59" received FIN.
2022-10-07 16:58:48.654 +03:00 [DBG] Connection id "0HML8DG7EJA58" accepted.
2022-10-07 16:58:48.654 +03:00 [DBG] Connection id "0HML8DG7EJA59" accepted.
2022-10-07 16:58:48.658 +03:00 [DBG] Connection id "0HML8DG7EJA58" started.
2022-10-07 16:58:48.658 +03:00 [DBG] Connection id "0HML8DG7EJA59" started.
2022-10-07 16:58:48.687 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:58:48.687 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:58:48.743 +03:00 [DBG] Connection id "0HML8DG7EJA59" stopped.
2022-10-07 16:58:48.743 +03:00 [DBG] Connection id "0HML8DG7EJA58" stopped.
2022-10-07 16:58:48.747 +03:00 [DBG] Connection id "0HML8DG7EJA59" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:58:48.747 +03:00 [DBG] Connection id "0HML8DG7EJA58" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:58:54.871 +03:00 [DBG] Connection id "0HML8DG7EJA5A" accepted.
2022-10-07 16:58:54.871 +03:00 [DBG] Connection id "0HML8DG7EJA5A" received FIN.
2022-10-07 16:58:54.873 +03:00 [DBG] Connection id "0HML8DG7EJA5A" started.
2022-10-07 16:58:54.876 +03:00 [DBG] Connection id "0HML8DG7EJA5B" accepted.
2022-10-07 16:58:54.878 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 16:58:54.878 +03:00 [DBG] Connection id "0HML8DG7EJA5B" started.
2022-10-07 16:58:54.882 +03:00 [DBG] Connection id "0HML8DG7EJA5A" stopped.
2022-10-07 16:58:54.883 +03:00 [DBG] Connection id "0HML8DG7EJA5A" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 16:58:54.938 +03:00 [DBG] Connection 0HML8DG7EJA5B established using the following protocol: "Tls12"
2022-10-07 16:58:54.997 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/ - -
2022-10-07 16:58:55.016 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 16:58:55.071 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 16:58:55.113 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2022-10-07 16:58:55.120 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2022-10-07 16:58:55.123 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-10-07 16:58:55.128 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-10-07 16:58:55.153 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 16:58:55.158 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:58:55.160 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:58:55.162 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:58:55.165 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:58:55.168 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:58:55.171 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 16:58:55.363 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 16:58:55.650 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 16:58:56.839 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:58:56.900 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2022-10-07 16:58:57.202 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-10-07 16:58:57.274 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:58:57.379 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (98ms).
2022-10-07 16:58:57.399 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:58:57.424 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:58:57.442 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:58:57.473 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:58:57.510 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:58:57.549 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:58:57.551 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:58:57.561 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:58:57.574 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:58:57.586 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:58:57.613 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 16:58:57.622 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-10-07 16:58:57.626 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 16:58:57.627 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPOIsDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-07 16:58:57.833 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2656.583ms
2022-10-07 16:58:57.836 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-10-07 16:58:57.838 +03:00 [DBG] Connection id "0HML8DG7EJA5B" completed keep alive response.
2022-10-07 16:58:57.849 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:58:57.857 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/ - - - 200 222 application/json;+charset=utf-8 2864.2188ms
2022-10-07 16:59:05.703 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - -
2022-10-07 16:59:05.705 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 16:59:05.708 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2022-10-07 16:59:05.710 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2022-10-07 16:59:05.712 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:59:05.714 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:59:05.731 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 16:59:05.734 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:59:05.735 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:59:05.736 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:59:05.738 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:59:05.740 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:59:05.742 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 16:59:05.744 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 16:59:05.755 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 16:59:05.758 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 16:59:05.761 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 16:59:05.763 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 16:59:05.764 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 16:59:05.768 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 16:59:05.772 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 16:59:05.776 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 16:59:05.779 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:59:05.781 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:59:05.782 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 16:59:05.784 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 16:59:05.792 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:59:05.832 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 16:59:05.948 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 16:59:06.238 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 16:59:06.260 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:59:06.262 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-10-07 16:59:06.268 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:59:06.270 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:59:06.282 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:59:06.294 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 16:59:06.300 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:59:06.319 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:59:06.351 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:59:06.353 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:59:06.357 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:59:06.359 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:59:06.367 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 16:59:06.372 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 16:59:06.373 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 16:59:06.374 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 16:59:06.376 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 16:59:06.378 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 16:59:06.392 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 650.2729ms
2022-10-07 16:59:06.394 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 16:59:06.396 +03:00 [DBG] Connection id "0HML8DG7EJA5B" completed keep alive response.
2022-10-07 16:59:06.397 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:59:06.399 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - - - 200 232 application/json;+charset=utf-8 695.5668ms
2022-10-07 16:59:19.933 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7198/api/cities/3/pointsofinterest/34 - -
2022-10-07 16:59:19.935 +03:00 [DBG] DELETE requests are not supported
2022-10-07 16:59:19.936 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/34'
2022-10-07 16:59:19.937 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiId}' is valid for the request path '/api/cities/3/pointsofinterest/34'
2022-10-07 16:59:19.939 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:59:19.942 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:59:19.949 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:59:19.952 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:59:19.953 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:59:19.955 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:59:19.958 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:59:19.960 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:59:19.962 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:59:19.967 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:59:19.970 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:59:19.972 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:59:19.974 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:59:19.975 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:59:19.977 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:59:19.979 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:59:19.980 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:59:19.981 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 16:59:19.983 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:59:19.985 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:59:19.987 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:59:19.988 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:59:20.067 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:59:20.071 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:59:20.073 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:59:20.074 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:59:20.076 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:59:20.077 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:59:20.080 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:59:20.082 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:59:20.083 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:59:20.086 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:59:20.087 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:59:20.088 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:59:20.089 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:59:20.094 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0 && x.Id == __poiId_1)
    .FirstOrDefault()'
2022-10-07 16:59:20.102 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(150), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__poiId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 16:59:20.106 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:59:20.107 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 16:59:20.109 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:59:20.111 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:59:20.112 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:59:20.115 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:59:20.118 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:59:20.120 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:59:20.120 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:59:20.122 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:59:20.145 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:59:20.159 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-10-07 16:59:20.164 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-10-07 16:59:20.185 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-10-07 16:59:20.216 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:59:20.218 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:59:20.226 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-07 16:59:20.239 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-10-07 16:59:20.310 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:59:20.312 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:59:20.315 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0;
SELECT changes();
2022-10-07 16:59:20.319 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0;
SELECT changes();
2022-10-07 16:59:20.329 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:59:20.338 +03:00 [DBG] Committing transaction.
2022-10-07 16:59:20.349 +03:00 [DBG] Committed transaction.
2022-10-07 16:59:20.359 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:59:20.362 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:59:20.370 +03:00 [DBG] Disposing transaction.
2022-10-07 16:59:20.382 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:59:20.387 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-10-07 16:59:20.395 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-10-07 16:59:20.396 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 434.5482ms
2022-10-07 16:59:20.398 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:59:20.400 +03:00 [DBG] Connection id "0HML8DG7EJA5B" completed keep alive response.
2022-10-07 16:59:20.401 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:59:20.403 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7198/api/cities/3/pointsofinterest/34 - - - 204 - - 469.3044ms
2022-10-07 16:59:25.031 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7198/api/cities/3/pointsofinterest/34 - -
2022-10-07 16:59:25.033 +03:00 [DBG] DELETE requests are not supported
2022-10-07 16:59:25.034 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/34'
2022-10-07 16:59:25.035 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{poiId}' is valid for the request path '/api/cities/3/pointsofinterest/34'
2022-10-07 16:59:25.039 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:59:25.043 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:59:25.045 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-10-07 16:59:25.049 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 16:59:25.050 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 16:59:25.052 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 16:59:25.055 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 16:59:25.057 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 16:59:25.059 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:59:25.061 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-10-07 16:59:25.063 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:59:25.064 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-10-07 16:59:25.065 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:59:25.067 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:59:25.069 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-10-07 16:59:25.070 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-10-07 16:59:25.071 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:59:25.072 +03:00 [DBG] Attempting to bind parameter 'poiId' of type 'System.Int32' using the name 'poiId' in request data ...
2022-10-07 16:59:25.074 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:59:25.075 +03:00 [DBG] Done attempting to bind parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:59:25.076 +03:00 [DBG] Attempting to validate the bound parameter 'poiId' of type 'System.Int32' ...
2022-10-07 16:59:25.078 +03:00 [DBG] Done attempting to validate the bound parameter 'poiId' of type 'System.Int32'.
2022-10-07 16:59:25.079 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 16:59:25.081 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:59:25.082 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-07 16:59:25.084 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:59:25.085 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:59:25.087 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:59:25.089 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2022-10-07 16:59:25.091 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:59:25.092 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:59:25.094 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 16:59:25.096 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:59:25.096 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:59:25.098 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:59:25.103 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 16:59:25.104 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-07 16:59:25.106 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:59:25.107 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:59:25.109 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:59:25.112 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__poiId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__poiId_1)
LIMIT 1
2022-10-07 16:59:25.115 +03:00 [DBG] A data reader was disposed.
2022-10-07 16:59:25.117 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 16:59:25.118 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 16:59:25.121 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 16:59:25.124 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 16:59:25.125 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2022-10-07 16:59:25.128 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-10-07 16:59:25.130 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-10-07 16:59:25.153 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 93.6878ms
2022-10-07 16:59:25.155 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-10-07 16:59:25.156 +03:00 [DBG] Connection id "0HML8DG7EJA5B" completed keep alive response.
2022-10-07 16:59:25.157 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 16:59:25.158 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7198/api/cities/3/pointsofinterest/34 - - - 404 161 application/problem+json;+charset=utf-8 126.8412ms
2022-10-07 17:00:49.420 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-07 17:00:49.600 +03:00 [DBG] Hosting starting
2022-10-07 17:00:49.801 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 2B4375081530B6D7DC61AE4CC5F402DE88C20182)
2022-10-07 17:00:49.863 +03:00 [INF] Now listening on: https://localhost:7198
2022-10-07 17:00:49.865 +03:00 [INF] Now listening on: http://localhost:5198
2022-10-07 17:00:49.866 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-10-07 17:00:49.867 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-07 17:00:49.868 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-07 17:00:49.869 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-07 17:00:49.870 +03:00 [INF] Hosting environment: Development
2022-10-07 17:00:49.872 +03:00 [INF] Content root path: C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\
2022-10-07 17:00:49.873 +03:00 [DBG] Hosting started
2022-10-07 17:00:50.179 +03:00 [DBG] Connection id "0HML8DHBLIE3J" accepted.
2022-10-07 17:00:50.182 +03:00 [DBG] Connection id "0HML8DHBLIE3J" started.
2022-10-07 17:00:50.207 +03:00 [DBG] Connection id "0HML8DHBLIE3J" received FIN.
2022-10-07 17:00:50.222 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 17:00:50.271 +03:00 [DBG] Connection id "0HML8DHBLIE3J" stopped.
2022-10-07 17:00:50.275 +03:00 [DBG] Connection id "0HML8DHBLIE3J" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 17:00:50.811 +03:00 [DBG] Connection id "0HML8DHBLIE3K" accepted.
2022-10-07 17:00:50.812 +03:00 [DBG] Connection id "0HML8DHBLIE3K" received FIN.
2022-10-07 17:00:50.814 +03:00 [DBG] Connection id "0HML8DHBLIE3K" started.
2022-10-07 17:00:50.823 +03:00 [DBG] Connection id "0HML8DHBLIE3L" accepted.
2022-10-07 17:00:50.824 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-07 17:00:50.825 +03:00 [DBG] Connection id "0HML8DHBLIE3L" started.
2022-10-07 17:00:50.833 +03:00 [DBG] Connection id "0HML8DHBLIE3K" stopped.
2022-10-07 17:00:50.836 +03:00 [DBG] Connection id "0HML8DHBLIE3K" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-07 17:00:50.885 +03:00 [DBG] Connection 0HML8DHBLIE3L established using the following protocol: "Tls12"
2022-10-07 17:00:50.936 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - -
2022-10-07 17:00:50.955 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-07 17:00:51.015 +03:00 [DBG] The request path  does not match the path filter
2022-10-07 17:00:51.052 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2022-10-07 17:00:51.059 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2022-10-07 17:00:51.062 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 17:00:51.067 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 17:00:51.105 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-10-07 17:00:51.109 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-07 17:00:51.111 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-07 17:00:51.113 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-07 17:00:51.116 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-07 17:00:51.117 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-07 17:00:51.120 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 17:00:51.348 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-07 17:00:51.603 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-10-07 17:00:51.619 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-10-07 17:00:51.624 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-10-07 17:00:51.628 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 17:00:51.630 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-10-07 17:00:51.632 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-10-07 17:00:51.636 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-10-07 17:00:51.641 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 17:00:51.644 +03:00 [DBG] Attempting to bind parameter 'includePOIs' of type 'System.Boolean' using the name 'includePOIs' in request data ...
2022-10-07 17:00:51.646 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 17:00:51.648 +03:00 [DBG] Done attempting to bind parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 17:00:51.649 +03:00 [DBG] Attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean' ...
2022-10-07 17:00:51.651 +03:00 [DBG] Done attempting to validate the bound parameter 'includePOIs' of type 'System.Boolean'.
2022-10-07 17:00:52.875 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.9' with options: None
2022-10-07 17:00:53.012 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault()'
2022-10-07 17:00:53.156 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2022-10-07 17:00:53.672 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required, 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(150), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-07 17:00:53.753 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-07 17:00:53.858 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (97ms).
2022-10-07 17:00:53.876 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-10-07 17:00:53.908 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 17:00:53.929 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 17:00:53.965 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2022-10-07 17:00:54.002 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 17:00:54.052 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-07 17:00:54.087 +03:00 [DBG] A data reader was disposed.
2022-10-07 17:00:54.098 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\OrangeMoose\Documents\sites\.NET projects\Pluralsight Courses\CityInfo\CityInfo.API\CityInfo.db'.
2022-10-07 17:00:54.106 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-10-07 17:00:54.124 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-10-07 17:00:54.134 +03:00 [DBG] No information found on request to perform content negotiation.
2022-10-07 17:00:54.136 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-07 17:00:54.138 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-07 17:00:54.140 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-07 17:00:54.143 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-10-07 17:00:54.357 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3232.5132ms
2022-10-07 17:00:54.362 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-10-07 17:00:54.363 +03:00 [DBG] Connection id "0HML8DHBLIE3L" completed keep alive response.
2022-10-07 17:00:54.375 +03:00 [DBG] 'CityInfoContext' disposed.
2022-10-07 17:00:54.385 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7198/api/cities/3?includePOIs=true - - - 200 172 application/json;+charset=utf-8 3453.0358ms
2022-10-07 17:01:02.194 +03:00 [DBG] Connection id "0HML8DHBLIE3L" received FIN.
2022-10-07 17:01:02.197 +03:00 [DBG] Connection id "0HML8DHBLIE3L" sending FIN because: "The client closed the connection."
2022-10-07 17:01:02.200 +03:00 [DBG] Connection id "0HML8DHBLIE3L" disconnecting.
2022-10-07 17:01:02.209 +03:00 [DBG] Connection id "0HML8DHBLIE3L" stopped.
